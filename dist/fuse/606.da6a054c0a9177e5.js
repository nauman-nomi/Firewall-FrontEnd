"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[606],{9971:(D,v,r)=>{r.d(v,{d:()=>p});var _=r(8341),s=r(5e3),M=r(8125),Z=r(9808),c=r(2494),m=r(1101),t=r(1377);function x(u,f){if(1&u&&(s.TgZ(0,"fuse-alert",8),s._uU(1),s.qZA()),2&u){const d=s.oxw();s.Q6J("appearance","outline")("showIcon",!1)("type",d.alert.type),s.xp6(1),s.hij(" ",d.alert.message,"\n")}}function b(u,f){1&u&&(s.TgZ(0,"div",9),s._UZ(1,"mat-progress-bar",10),s.qZA())}let p=(()=>{class u{constructor(d,l,C,A){this.nicService=d,this.dialogRef=l,this.data=C,this.cdr=A,this.alert={type:"success",message:""},this.showAlert=!1,this.isSubmitting=!1,console.log(C)}ngOnInit(){}onYesClick(){if("delete-sub-nic"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const d=Object.assign(Object.assign({},this.data.row),{api_key:this.nicService.apiKey});console.log(d),this.nicService.deleteSubNic(d).subscribe(l=>{console.log("Sub-NIC removed successfully:",l),this.alert={type:"success"===l.status?"success":"error",message:l.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(l)},l=>{console.error("Failed to removed NIC info:",l),this.alert={type:"error",message:"Failed to removed Sub-NIC. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}else if("malware-ip-delete"===this.data.action)this.showAlert=!1,this.isSubmitting=!0,this.nicService.deleteMaliciousIP(this.data.row.ip).subscribe(d=>{console.log("Malicious IP removed successfully:",d),this.alert={type:"success"===d.status?"success":"error",message:d.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(d)},d=>{console.error("Failed to removed Malicous info:",d),this.alert={type:"error",message:"Failed to removed Malicious IP. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges();else if("delete-country"===this.data.action)this.showAlert=!1,this.isSubmitting=!0,this.nicService.unBlockCountry(this.data.row.county).subscribe(d=>{console.log("Malicious IP removed successfully:",d),this.alert={type:"success"===d.status?"success":"error",message:d.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(d)},d=>{console.error("Failed to removed Malicous info:",d),this.alert={type:"error",message:"Failed to removed Malicious IP. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges();else if("delete-web-mod-sec"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const d={domain:this.data.row.domain_name};console.log(d),this.nicService.deleteModSecApi(d).subscribe(l=>{"success"==l.api_status?(console.log("Mod Sec removed successfully:",l),this.alert={type:"success"===l.status?"success":"error",message:l.message},this.showAlert=!0,this.isSubmitting=!1):(console.log("Error:",l),this.alert={type:"success"===l.status?"success":"error",message:l.message},this.showAlert=!0,this.isSubmitting=!1),this.dialogRef.close(l)},l=>{console.error("Failed to removed Mod Sec info:",l),this.alert={type:"error",message:"Failed to removed Mod Sec. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),console.log(this.data.row.domain_name)}else if("delete-email-gw-sec"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const d={domain:this.data.row.domain};console.log(d),this.nicService.deleteEmailGwApi(d).subscribe(l=>{"success"==l.api_status?(console.log("Email Gateway removed successfully:",l),this.alert={type:"success"===l.status?"success":"error",message:l.message},this.showAlert=!0,this.isSubmitting=!1):(console.log("Error:",l),this.alert={type:"success"===l.status?"success":"error",message:l.message},this.showAlert=!0,this.isSubmitting=!1),this.dialogRef.close(l)},l=>{console.error("Failed to removed Mod Sec info:",l),this.alert={type:"error",message:"Failed to removed Mod Sec. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),console.log(this.data.row.domain_name)}else console.log("Unhandled action:",this.data.action)}}return u.\u0275fac=function(d){return new(d||u)(s.Y36(M.N),s.Y36(_.so),s.Y36(_.WI),s.Y36(s.sBO))},u.\u0275cmp=s.Xpm({type:u,selectors:[["app-warning-dialog"]],decls:12,vars:10,consts:[["mat-dialog-title","",1,"rounded-t-lg","font-semibold"],[1,"border-gray-300","-mt-3","mb-2"],["class","mt-2 mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"px-8"],[1,"flex","justify-end","space-x-4","p-4"],["mat-button","","mat-dialog-close","","cdkFocusInitial","",1,"px-4","py-2","border","hover:bg-primary","rounded-md","bg-gray-200",3,"disabled"],["mat-button","",1,"px-4","py-2","border","rounded-md","hover:bg-warn","bg-gray-200",3,"disabled","click"],[1,"mt-2","mb-4",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"]],template:function(d,l){1&d&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"hr",1),s.YNc(3,x,2,4,"fuse-alert",2),s.YNc(4,b,2,0,"div",3),s.TgZ(5,"mat-dialog-content",4),s._uU(6),s.qZA(),s.TgZ(7,"mat-dialog-actions",5)(8,"button",6),s._uU(9,"No"),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return l.onYesClick()}),s._uU(11,"Yes"),s.qZA()()),2&d&&(s.xp6(1),s.xDo("",l.data.title,' "',l.data.row.domain_name,"",l.data.row.nic_name,"",l.data.row.ip,"",l.data.row.country,'"'),s.xp6(2),s.Q6J("ngIf",l.showAlert),s.xp6(1),s.Q6J("ngIf",l.isSubmitting),s.xp6(2),s.hij(" ",l.data.message,"\n"),s.xp6(2),s.Q6J("disabled",l.isSubmitting),s.xp6(2),s.Q6J("disabled",l.isSubmitting))},directives:[_.uh,Z.O5,c.W,m.pW,_.xY,_.H8,t.lW,_.ZT],styles:["button[_ngcontent-%COMP%]{margin-right:8px}"]}),u})()},9606:(D,v,r)=>{r.r(v),r.d(v,{NetworkInterfaceModule:()=>Jt});var _=r(520),s=r(325),M=r(1086),Z=r(7221),c=r(3075),m=r(8341),t=r(5e3),x=r(8125),b=r(1377),p=r(1279),u=r(9808),f=r(2494),d=r(6808);function l(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function C(i,o){1&i&&(t.TgZ(0,"small",19),t._uU(1," Invalid IP address (Format: 192.168.1.1) "),t.qZA())}function A(i,o){1&i&&(t.TgZ(0,"small",19),t._uU(1," Invalid Subnet Mask (Format: 255.255.255.0) "),t.qZA())}function J(i,o){1&i&&t._UZ(0,"mat-progress-spinner",20),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let F=(()=>{class i{constructor(n,e,a,g,h){this.dialogRef=n,this.data=e,this.fb=a,this.nicService=g,this.cdr=h,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=e.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}SaveNICInfo(){}ipAlreadyExistsValidator(){return n=>this.oldIp.includes(n.value)?{ipExists:!0}:null}ngOnInit(){this.networkForm=this.fb.group({ip_address:["",[c.kI.required,c.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.ipAlreadyExistsValidator()]],subnet_mask:["",[c.kI.required,c.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/)]],nic_name:["",c.kI.required],category:[""]}),this.networkForm.patchValue({ip_address:this.data.row.ip_address,subnet_mask:this.data.row.subnet_mask,nic_name:this.data.row.nic_name,category:this.data.row.category})}onSubmit(){if(this.networkForm.valid){this.showAlert=!1,this.isSubmitting=!0;const n=Object.assign(Object.assign({},this.networkForm.value),{api_key:this.nicService.apiKey});this.nicService.updateNicInfo(n).subscribe(e=>{console.log("NIC info updated successfully:",e),this.alert={type:"success"===e.status?"success":"error",message:e.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(e)},e=>{console.error("Failed to update NIC info:",e),this.alert={type:"error",message:"Failed to update NIC info. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.networkForm.reset({ip_address:this.data.row.ip_address,subnet_mask:this.data.row.subnet_mask,nic_name:this.data.row.nic_name})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.so),t.Y36(m.WI),t.Y36(c.qu),t.Y36(x.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-main"]],decls:29,vars:12,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","ip_address",1,"input-field"],["class","error",4,"ngIf"],["type","text","formControlName","subnet_mask",1,"input-field"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(n,e){if(1&n&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,l,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"IP Address"),t.qZA(),t._UZ(14,"input",11),t.YNc(15,C,2,0,"small",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Subnet Mask"),t.qZA(),t._UZ(19,"input",13),t.YNc(20,A,2,0,"small",12),t.qZA()()(),t.TgZ(21,"mat-dialog-actions",14)(22,"button",15)(23,"span"),t._uU(24," Update "),t.qZA(),t.YNc(25,J,1,2,"mat-progress-spinner",16),t.qZA(),t.TgZ(26,"button",17),t.NdJ("click",function(){return e.resetForm()}),t.TgZ(27,"span"),t._uU(28," Reset "),t.qZA()()()()()),2&n){let a,g;t.xp6(3),t.AsE(" ",e.data.title," - ",e.data.row.nic_name," "),t.xp6(1),t.Q6J("disabled",e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.showAlert),t.xp6(1),t.Q6J("formGroup",e.networkForm),t.xp6(7),t.Q6J("ngIf",(null==(a=e.networkForm.get("ip_address"))?null:a.invalid)&&(null==(a=e.networkForm.get("ip_address"))?null:a.touched)),t.xp6(5),t.Q6J("ngIf",(null==(g=e.networkForm.get("subnet_mask"))?null:g.invalid)&&(null==(g=e.networkForm.get("subnet_mask"))?null:g.touched)),t.xp6(2),t.Q6J("color","primary")("disabled",e.networkForm.invalid||e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",e.isSubmitting)}},directives:[m.xY,b.lW,p.Hw,u.O5,f.W,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,m.H8,d.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})();var q=r(9971),I=r(1101);function j(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function Q(i,o){1&i&&(t.TgZ(0,"div",19),t._UZ(1,"mat-progress-bar",20),t.qZA())}function Y(i,o){1&i&&(t.TgZ(0,"small",21),t._uU(1," Invalid Gateway (Format: 192.168.1.1) "),t.qZA())}function E(i,o){1&i&&t._UZ(0,"mat-progress-spinner",22),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let W=(()=>{class i{constructor(n,e,a,g,h){this.dialogRef=n,this.data=e,this.fb=a,this.nicService=g,this.cdr=h,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=e.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}ngOnInit(){this.gatewayForm=this.fb.group({gateway:["",[c.kI.required,c.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.gatewayValidator()]]}),this.gatewayForm.patchValue({gateway:this.data.gateway})}gatewayValidator(){return n=>{if(!n.value)return null;const e=n.value;for(const a of this.oldIp)if(this.isSameNetwork(a,e)&&a.split(".").slice(0,3).join(".")===e.split(".").slice(0,3).join(".")&&e!==a)return null;return{invalidGateway:!0}}}isSameNetwork(n,e){return n.split(".").slice(0,3).join(".")===e.split(".").slice(0,3).join(".")}onSubmit(){if(this.gatewayForm.valid){this.showAlert=!1,this.isSubmitting=!0;const n=Object.assign(Object.assign({},this.gatewayForm.value),{api_key:this.nicService.apiKey});console.log(n),this.nicService.updateDefualtGW(n).subscribe(e=>{console.log("Default Gateway updated successfully:",e),this.alert={type:"success"===e.status?"success":"error",message:e.message},this.showAlert=!0,this.isSubmitting=!1},e=>{console.error("Failed to update Default Gateway:",e),this.alert={type:"error",message:"Failed to update Default Gateway. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.gatewayForm.reset({gateway:this.data.gateway})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.so),t.Y36(m.WI),t.Y36(c.qu),t.Y36(x.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-update-default-gw"]],decls:25,vars:11,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","gateway",1,"input-field"],["class","error",4,"ngIf"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(n,e){if(1&n&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,j,2,4,"fuse-alert",5),t.YNc(8,Q,2,0,"div",6),t.TgZ(9,"form",7),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),t._uU(14,"Default Gateway"),t.qZA(),t._UZ(15,"input",12),t.YNc(16,Y,2,0,"small",13),t.qZA()()(),t.TgZ(17,"mat-dialog-actions",14)(18,"button",15)(19,"span"),t._uU(20," Update "),t.qZA(),t.YNc(21,E,1,2,"mat-progress-spinner",16),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return e.resetForm()}),t.TgZ(23,"span"),t._uU(24," Reset "),t.qZA()()()()()),2&n){let a;t.xp6(3),t.hij(" ",e.data.title," "),t.xp6(1),t.Q6J("disabled",e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.showAlert),t.xp6(1),t.Q6J("ngIf",e.isSubmitting),t.xp6(1),t.Q6J("formGroup",e.gatewayForm),t.xp6(7),t.Q6J("ngIf",(null==(a=e.gatewayForm.get("gateway"))?null:a.invalid)&&(null==(a=e.gatewayForm.get("gateway"))?null:a.touched)),t.xp6(2),t.Q6J("color","primary")("disabled",e.gatewayForm.invalid||e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",e.isSubmitting)}},directives:[m.xY,b.lW,p.Hw,u.O5,f.W,I.pW,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,m.H8,d.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})();function R(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",19),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function G(i,o){1&i&&(t.TgZ(0,"small",20),t._uU(1," Invalid IP address (Format: 192.168.1.1) "),t.qZA())}function L(i,o){1&i&&(t.TgZ(0,"small",20),t._uU(1," Invalid Subnet Mask (Format: 255.255.255.0) "),t.qZA())}function V(i,o){1&i&&t._UZ(0,"mat-progress-spinner",21),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let B=(()=>{class i{constructor(n,e,a,g,h){this.dialogRef=n,this.data=e,this.fb=a,this.nicService=g,this.cdr=h,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=e.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}SaveNICInfo(){}ipAlreadyExistsValidator(){return n=>this.oldIp.includes(n.value)?{ipExists:!0}:null}ngOnInit(){this.addSubNicForm=this.fb.group({ip_address:["",[c.kI.required,c.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.ipAlreadyExistsValidator()]],subnet_mask:["",[c.kI.required,c.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/)]],nic_name:["",c.kI.required],category:[""]}),this.addSubNicForm.patchValue({nic_name:this.data.row.nic_name})}onSubmit(){if(this.addSubNicForm.valid){this.showAlert=!1,this.isSubmitting=!0;const n=Object.assign(Object.assign({},this.addSubNicForm.value),{api_key:this.nicService.apiKey});console.log(n),this.nicService.addSubNic(n).subscribe(e=>{console.log("Sub-NIC added successfully:",e),this.alert={type:"success"===e.status?"success":"error",message:e.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(e)},e=>{console.error("Failed to add Sub-NIC info:",e),this.alert={type:"error",message:"Failed to add Sub-NIC info. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.addSubNicForm.reset({ip_address:"",subnet_mask:"",nic_name:this.data.row.nic_name})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.so),t.Y36(m.WI),t.Y36(c.qu),t.Y36(x.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-add-sub-nic"]],decls:30,vars:12,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","ip_address",1,"input-field"],["class","error",4,"ngIf"],["type","text","formControlName","subnet_mask",1,"input-field"],[1,"dialog-footer"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(n,e){if(1&n&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,R,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"IP Address"),t.qZA(),t._UZ(14,"input",11),t.YNc(15,G,2,0,"small",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Subnet Mask"),t.qZA(),t._UZ(19,"input",13),t.YNc(20,L,2,0,"small",12),t.qZA()()(),t._UZ(21,"div",14),t.TgZ(22,"mat-dialog-actions",15)(23,"button",16)(24,"span"),t._uU(25," Update "),t.qZA(),t.YNc(26,V,1,2,"mat-progress-spinner",17),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){return e.resetForm()}),t.TgZ(28,"span"),t._uU(29," Reset "),t.qZA()()()()()),2&n){let a,g;t.xp6(3),t.AsE(" ",e.data.title,' in "',e.data.row.nic_name,'" '),t.xp6(1),t.Q6J("disabled",e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.showAlert),t.xp6(1),t.Q6J("formGroup",e.addSubNicForm),t.xp6(7),t.Q6J("ngIf",(null==(a=e.addSubNicForm.get("ip_address"))?null:a.invalid)&&(null==(a=e.addSubNicForm.get("ip_address"))?null:a.touched)),t.xp6(5),t.Q6J("ngIf",(null==(g=e.addSubNicForm.get("subnet_mask"))?null:g.invalid)&&(null==(g=e.addSubNicForm.get("subnet_mask"))?null:g.touched)),t.xp6(3),t.Q6J("color","primary")("disabled",e.addSubNicForm.invalid||e.isSubmitting),t.xp6(3),t.Q6J("ngIf",e.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",e.isSubmitting)}},directives:[m.xY,b.lW,p.Hw,u.O5,f.W,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,m.H8,d.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})(),z=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-add-vlan"]],decls:2,vars:0,template:function(n,e){1&n&&(t.TgZ(0,"p"),t._uU(1,"dialog-add-vlan works!"),t.qZA())},styles:[""]}),i})();var H=r(3449),y=r(9824),K=r(1218),T=r(1223),$=r(9722),X=r(6201);function tt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",n.errorAlert.type),t.xp6(1),t.hij(" ",n.errorAlert.message," ")}}function et(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function nt(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function it(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function ot(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function at(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function st(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",n.info.type),t.xp6(1),t.hij(" ",n.info.message," ")}}function lt(i,o){1&i&&t._UZ(0,"mat-progress-spinner",20),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let rt=(()=>{class i{constructor(n,e,a,g,h){this.dialogRef=n,this.data=e,this.fb=a,this.nicService=g,this.cdr=h,this.isSubmitting=!1,this.alert={type:"error",message:"Error! Duplicate Selection Found"},this.info={type:"info",message:"Each NIC selection must be unique across all fields."},this.errorAlert={type:"error",message:""},this.showAlert=!1,this.nicList=[],this.externalNIC=[],this.internalNIC=[],this.sdWAN=[],this.vpn=[],this.uniqueSelectionsValidator=w=>{var O,N,P,U;const k=[...(null===(O=w.get("InternalInterface"))||void 0===O?void 0:O.value)||[],...(null===(N=w.get("ExternalInterface"))||void 0===N?void 0:N.value)||[],...(null===(P=w.get("sdWANInterface"))||void 0===P?void 0:P.value)||[],...(null===(U=w.get("vpnInterface"))||void 0===U?void 0:U.value)||[]];return new Set(k).size!==k.length?{nonUniqueSelection:!0}:null},this.nicList=e.nicList,this.externalNIC=e.externalinterfaces,this.internalNIC=e.internalinterfaces,this.sdWAN=e.sdWaninterfaces,this.vpn=e.vpninterfaces}ngOnInit(){this.updateMacroForm=this.fb.group({InternalInterface:[this.internalNIC],ExternalInterface:[this.externalNIC],sdWANInterface:[this.sdWAN],vpnInterface:[this.vpn]},{validators:this.uniqueSelectionsValidator}),this.updateMacroForm.valueChanges.subscribe(()=>{this.updateMacroForm.updateValueAndValidity()})}closeDialog(){this.dialogRef.close("Dialog Closed")}onSubmit(){if(this.updateMacroForm.valid){this.showAlert=!1,this.isSubmitting=!0;const n=Object.assign(Object.assign({},this.updateMacroForm.value),{api_key:this.nicService.apiKey});console.log(n),this.nicService.updateMacros(n).subscribe(e=>{console.log("Macros Update:",e),this.errorAlert={type:"success"===e.status?"success":"error",message:e.message},this.showAlert=!0,this.isSubmitting=!1,this.closeDialog()},e=>{console.error("Failed to add Sub-NIC info:",e),this.errorAlert={type:"error",message:"Failed to update Macros. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.so),t.Y36(m.WI),t.Y36(c.qu),t.Y36(x.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-update-macros"]],decls:38,vars:12,consts:[[1,"dialog-content"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"click"],[1,"text-white"],["class","mt-2",3,"appearance","showIcon","type",4,"ngIf"],[1,"rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body","mt-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["appearance","fill",1,"w-full"],["formControlName","InternalInterface","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","ExternalInterface","multiple",""],["formControlName","sdWANInterface","multiple",""],["formControlName","vpnInterface","multiple",""],["align","end",1,"mt-2"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],[1,"mt-2",3,"appearance","showIcon","type"],[3,"value"],[1,"ml-3",3,"diameter","mode"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,tt,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Internal NIC"),t.qZA(),t.TgZ(14,"mat-select",10),t.YNc(15,et,2,2,"mat-option",11),t.qZA()(),t.TgZ(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"External NIC"),t.qZA(),t.TgZ(19,"mat-select",12),t.YNc(20,nt,2,2,"mat-option",11),t.qZA()(),t.TgZ(21,"mat-form-field",9)(22,"mat-label"),t._uU(23,"sdWAN NIC"),t.qZA(),t.TgZ(24,"mat-select",13),t.YNc(25,it,2,2,"mat-option",11),t.qZA()(),t.TgZ(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"VPN NIC"),t.qZA(),t.TgZ(29,"mat-select",14),t.YNc(30,ot,2,2,"mat-option",11),t.qZA()()()(),t.YNc(31,at,2,4,"fuse-alert",5),t.YNc(32,st,2,4,"fuse-alert",5),t.TgZ(33,"div",15)(34,"button",16)(35,"span"),t._uU(36," Update "),t.qZA(),t.YNc(37,lt,1,2,"mat-progress-spinner",17),t.qZA()()()()),2&n&&(t.xp6(3),t.hij(" ",e.data.title," "),t.xp6(4),t.Q6J("ngIf",e.showAlert),t.xp6(1),t.Q6J("formGroup",e.updateMacroForm),t.xp6(7),t.Q6J("ngForOf",e.nicList),t.xp6(5),t.Q6J("ngForOf",e.nicList),t.xp6(5),t.Q6J("ngForOf",e.nicList),t.xp6(5),t.Q6J("ngForOf",e.nicList),t.xp6(1),t.Q6J("ngIf",e.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(1),t.Q6J("ngIf",!e.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(2),t.Q6J("color","primary")("disabled",e.updateMacroForm.invalid||e.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(3),t.Q6J("ngIf",e.isSubmitting))},directives:[m.xY,b.lW,p.Hw,u.O5,f.W,c._Y,c.JL,c.sg,T.KE,T.hX,$.gD,c.JJ,c.u,u.sg,X.ey,d.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;flex-shrink:0;background:white;position:sticky;bottom:0}mat-dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;overflow:hidden}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-shrink:0}"]}),i})();var ct=r(9602);function dt(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw().updateMacros()}),t.TgZ(1,"mat-icon",12),t._uU(2,"edit"),t.qZA()()}}function gt(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const n=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("Int",n.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",n.split(",")[1].trim(),"")}}function ut(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"Internal"),t.qZA(),t._uU(4,". "),t.qZA())}function mt(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const n=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("Ext",n.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",n.split(",")[1].trim(),"")}}function pt(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"External"),t.qZA(),t._uU(4,". "),t.qZA())}function ft(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const n=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("sdwan",n.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",n.split(",")[1].trim(),"")}}function ht(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"sdWAN"),t.qZA(),t._uU(4,". "),t.qZA())}function _t(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const n=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("VPN",n.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",n.split(",")[1].trim(),"")}}function bt(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"VPN"),t.qZA(),t._uU(4,". "),t.qZA())}let xt=(()=>{class i{constructor(n){this.dialog=n,this.externalinterfaces=[],this.internalinterfaces=[],this.sdWaninterfaces=[],this.vpninterfaces=[],this.nicList=[],this.editRow=new t.vpe,this.loading=!1}ngOnInit(){}updateMacros(){this.dialog.open(rt,{width:"700px",height:"auto",data:{title:"Update Macros",externalinterfaces:this.externalinterfaces.map(e=>e.split(",")[1]),internalinterfaces:this.internalinterfaces.map(e=>e.split(",")[1]),sdWaninterfaces:this.sdWaninterfaces.map(e=>e.split(",")[1]),vpninterfaces:this.vpninterfaces.map(e=>e.split(",")[1]),nicList:this.nicList}}).afterClosed().subscribe(e=>{console.log("Dialog closed",e),this.onUpdate([])})}onUpdate(n){n.sep="updateMacros",this.editRow.emit(n)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-macros-management-component"]],inputs:{externalinterfaces:"externalinterfaces",internalinterfaces:"internalinterfaces",sdWaninterfaces:"sdWaninterfaces",vpninterfaces:"vpninterfaces",nicList:"nicList"},outputs:{editRow:"editRow"},decls:38,vars:9,consts:[[1,"flex","flex-col","border-none","shadow-none","rounded-none"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2"],[1,"flex","text-xl","font-bold","text-primary"],[1,"justify-self-end","mt-2"],["class"," bg-primary text-white rounded-3xl h-6",3,"click",4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"font-medium","text-secondary"],[1,"flex-auto","ml-2","border-b-2"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-y-4","ml-5","my-2"],["class","flex items-center",4,"ngFor","ngForOf"],["class","col-span-3",4,"ngIf"],[1,"bg-primary","text-white","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Macros",1,"text-white","text-2xl"],[1,"flex","items-center"],[1,"icon-size-5","text-orange-600",3,"svgIcon"],[1,"ml-2","inline-block"],[1,"text-primary"],[1,"col-span-3"]],template:function(n,e){1&n&&(t.TgZ(0,"fuse-card",0)(1,"div")(2,"div",1)(3,"div",2),t._uU(4,"Macros Management"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,dt,3,0,"button",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9,"Internal"),t.qZA(),t._UZ(10,"div",7),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,gt,6,3,"div",9),t.YNc(13,ut,5,0,"div",10),t.qZA()(),t.TgZ(14,"div")(15,"div",5)(16,"div",6),t._uU(17,"External"),t.qZA(),t._UZ(18,"div",7),t.qZA(),t.TgZ(19,"div",8),t.YNc(20,mt,6,3,"div",9),t.YNc(21,pt,5,0,"div",10),t.qZA()(),t.TgZ(22,"div")(23,"div",5)(24,"div",6),t._uU(25,"sdWAN"),t.qZA(),t._UZ(26,"div",7),t.qZA(),t.TgZ(27,"div",8),t.YNc(28,ft,6,3,"div",9),t.YNc(29,ht,5,0,"div",10),t.qZA()(),t.TgZ(30,"div")(31,"div",5)(32,"div",6),t._uU(33,"VPN"),t.qZA(),t._UZ(34,"div",7),t.qZA(),t.TgZ(35,"div",8),t.YNc(36,_t,6,3,"div",9),t.YNc(37,bt,5,0,"div",10),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngIf",!e.loading),t.xp6(6),t.Q6J("ngForOf",e.internalinterfaces),t.xp6(1),t.Q6J("ngIf",0==e.internalinterfaces.length),t.xp6(7),t.Q6J("ngForOf",e.externalinterfaces),t.xp6(1),t.Q6J("ngIf",0==e.externalinterfaces.length),t.xp6(7),t.Q6J("ngForOf",e.sdWaninterfaces),t.xp6(1),t.Q6J("ngIf",0==e.sdWaninterfaces.length),t.xp6(7),t.Q6J("ngForOf",e.vpninterfaces),t.xp6(1),t.Q6J("ngIf",0==e.vpninterfaces.length))},directives:[ct.y,u.O5,p.Hw,y.gM,u.sg],styles:[""]}),i})();function Ct(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",43),t._uU(1),t.qZA()),2&i){const n=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!0)("type",n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function vt(i,o){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,Ct,2,4,"fuse-alert",42),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.showAlert)}}function yt(i,o){1&i&&(t.TgZ(0,"div",44),t._UZ(1,"mat-progress-bar",45),t.qZA())}function wt(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){return t.CHM(n),t.oxw().refreshTable()}),t.TgZ(1,"mat-icon",47),t._uU(2,"refresh"),t.qZA()()}if(2&i){const n=t.oxw();t.Q6J("disabled",n.loading)}}function Mt(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){return t.CHM(n),t.oxw().updateGW()}),t.TgZ(1,"mat-icon",49),t._uU(2,"edit"),t.qZA()()}}let Zt=(()=>{class i{constructor(n,e,a){this.getNicInfoService=n,this.dialog=e,this.cdr=a,this.alert={type:"success",message:""},this.showAlert=!1,this.userData=[],this.loading=!0,this.headerMapping={nic_name:"Network Interface",nic_type:"Type",ip_address:"IP Address",subnet_mask:"Subnet Mask",mac_address:"MAC Address",link_state:"Link State",nic_action:"Action",category:"Category"},this.displayedColumns=["category","nic_name","nic_type","ip_address","subnet_mask","mac_address","link_state","nic_action"],this.defaultGateway="Gateway",this.nicCount=0,this.subInterfaceCount=0,this.totalExternal=0,this.totalInternal=0,this.totalVlanCount=0,this.interfaces=[],this.externalinterfaces=[],this.internalinterfaces=[],this.sdWaninterfaces=[],this.vpninterfaces=[],this.allIpAddresses=[],this.selectedRow=null,this.nicList=[]}ngOnInit(){this.getNicData()}getNicData(){this.getNicInfoService.getNicData().pipe((0,Z.K)(n=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,M.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(n=>{this.showAlert=!1,"success"===n.api_status?(this.defaultGateway=n.default_gateway,this.nicCount=n.nic_count,this.subInterfaceCount=n.sub_interface_count,this.totalExternal=n.total_external,this.totalInternal=n.total_internal,this.totalVlanCount=n.total_vlan_count,this.interfaces=n.interfaces,this.allIpAddresses=this.interfaces.map(e=>e.ip_address).filter(e=>"N/A"!==e),this.nicList=this.interfaces.filter(e=>"sub_nic"!==e.category).map(e=>e.nic_name),this.externalinterfaces=n.external_interfaces,this.internalinterfaces=n.internal_interfaces,this.sdWaninterfaces=n.sdwan_interfaces,this.vpninterfaces=n.vpn_interfaces,this.loading=!1,this.showTimedAlert("success","Updated Successfully")):(this.showTimedAlert("error",n.message||"Unknown error"),this.loading=!1)}),this.cdr.detectChanges()}showTimedAlert(n,e){this.alert.type=n,this.alert.message=e,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}refreshTable(){this.loading=!0,this.getNicData(),this.fwOptionsComponent&&this.fwOptionsComponent.ngOnInit()}onEditRow(n){"edit"===n.sep?(this.selectedRow=Object.assign({},n),this.dialog.open(F,{width:"700px",disableClose:!0,data:{title:"Update Network Interface",row:this.selectedRow,old_ip:this.allIpAddresses}}).afterClosed().subscribe(a=>{this.refreshTable(),this.showTimedAlert("success","NIC Information Updated Successfully")})):"delete"===n.sep?(n=Object.assign({},n),this.dialog.open(q.d,{width:"700px",disableClose:!0,data:{title:"Delete Sub-Interface",row:n,message:"Are you sure you want to delete sub-interface?",action:"delete-sub-nic"}}).afterClosed().subscribe(a=>{this.refreshTable(),this.showTimedAlert("success","Sub-NIC removed successfully")})):"add-sub-nic"===n.sep?(n=Object.assign({},n),this.dialog.open(B,{width:"700px",disableClose:!0,data:{title:"Add Sub-Interface",row:n,message:"",action:"",old_ip:this.allIpAddresses}}).afterClosed().subscribe(a=>{this.refreshTable(),this.showTimedAlert("success","Sub-NIC Added Successfully"),this.cdr.detectChanges()})):"add-vlan"===n.sep?(n=Object.assign({},n),this.dialog.open(z,{width:"700px",data:{title:"Add vLAN",row:n,message:"",action:"",old_ip:this.allIpAddresses}}).afterClosed().subscribe(a=>{console.log("Dialog closed",a),this.refreshTable()})):("updateMacros"===n.sep||"updateFwOption"===n.sep)&&this.refreshTable()}updateGW(){this.dialog.open(W,{width:"700px",disableClose:!0,data:{title:"Update Default Gateway",gateway:this.defaultGateway,old_ip:this.allIpAddresses}}).afterClosed().subscribe(e=>{this.refreshTable(),this.showTimedAlert("success","Default Gateway updated Successfully")})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(x.N),t.Y36(m.uw),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-network-inteface"]],viewQuery:function(n,e){if(1&n&&t.Gf(H.S,5),2&n){let a;t.iGM(a=t.CRH())&&(e.fwOptionsComponent=a.first)}},decls:72,vars:20,consts:[[1,"flex","flex-auto","p-3","sm:p-5"],[1,"flex","flex-col","flex-auto","w-full"],["class","mb-8",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","rounded-xl","bg-primary-500"],[1,"justify-self-start","flex","items-center"],[1,"text-xl","font-bold","leading-none","tracking-tight","text-white","pl-5"],[1,"justify-self-end","m-2","mr-4"],["class","px-2 pt-1 bg-white text-white rounded-md",3,"disabled","click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-11","gap-4","mb-4"],[1,"col-span-9","grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-7","gap-4"],[1,"bg-card","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","p-3","shadow"],[1,"flex","flex-col","items-center"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-blue-500","sm:text-4xl"],[1,"text-lg","text-blue-600","dark:text-blue-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-orange-500","sm:text-4xl"],[1,"text-lg","text-orange-600","dark:text-orange-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-purple-500","sm:text-4xl"],[1,"text-lg","text-purple-600","dark:text-purple-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-red-500","sm:text-4xl"],[1,"text-lg","text-red-600","dark:text-red-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-green-500","sm:text-4xl"],[1,"text-lg","text-green-600","dark:text-green-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-yellow-500","sm:text-4xl"],[1,"text-lg","text-yellow-600","dark:text-yellow-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-pink-500","sm:text-4xl"],[1,"text-lg","text-pink-600","dark:text-pink-500"],[1,"col-span-2","grid","grid-cols-2","bg-card","rounded-2xl","shadow","w-full"],[1,"bg-primary","rounded-l-2xl","flex","items-center","justify-center","text-on-primary","text-lg","font-bold","p-2"],[1,"bg-card","rounded-r-2xl","flex","items-center","justify-center","text-xl","relative","p-3"],[1,"text-normal"],["class","absolute top-1 right-2 flex bg-warn-600 text-on-warn rounded-3xl h-6",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-4","gap-4"],[1,"col-span-3"],[1,"flex","flex-col","px-5","pt-4","pb-2","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","text-xl","font-bold","justify-start","mx-3","border-b-2","border-primary-200","text-primary"],[3,"data","displayedColumns","headerMapping","editRow"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","gap-4"],[1,"col-span-1","flex","flex-col","px-5","pt-4","pb-5","shadow","rounded-2xl","overflow-hidden","bg-card"],[3,"externalinterfaces","internalinterfaces","sdWaninterfaces","vpninterfaces","nicList","editRow"],[1,"mb-8"],["class","mt-0 -mb-2",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-0","-mb-2",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"px-2","pt-1","bg-white","text-white","rounded-md",3,"disabled","click"],[1,"text-primary"],[1,"absolute","top-1","right-2","flex","bg-warn-600","text-on-warn","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Gateway",1,"text-white","text-2xl"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,vt,2,1,"div",2),t.YNc(3,yt,2,0,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._uU(8," Network Interface "),t.qZA()(),t.TgZ(9,"div",8),t.YNc(10,wt,3,1,"button",9),t.qZA()()(),t.TgZ(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),t._uU(16),t.qZA(),t.TgZ(17,"div",15),t._uU(18," Interfaces "),t.qZA()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"div",16),t._uU(22),t.qZA(),t.TgZ(23,"div",17),t._uU(24," Sub NIC "),t.qZA()()(),t.TgZ(25,"div",12)(26,"div",13)(27,"div",18),t._uU(28),t.qZA(),t.TgZ(29,"div",19),t._uU(30," vLANs "),t.qZA()()(),t.TgZ(31,"div",12)(32,"div",13)(33,"div",20),t._uU(34),t.qZA(),t.TgZ(35,"div",21),t._uU(36," External "),t.qZA()()(),t.TgZ(37,"div",12)(38,"div",13)(39,"div",22),t._uU(40),t.qZA(),t.TgZ(41,"div",23),t._uU(42," Internal "),t.qZA()()(),t.TgZ(43,"div",12)(44,"div",13)(45,"div",24),t._uU(46),t.qZA(),t.TgZ(47,"div",25),t._uU(48," sdWAN "),t.qZA()()(),t.TgZ(49,"div",12)(50,"div",13)(51,"div",26),t._uU(52),t.qZA(),t.TgZ(53,"div",27),t._uU(54," VPN "),t.qZA()()()(),t.TgZ(55,"div",28)(56,"div",29),t._uU(57," Default Gateway "),t.qZA(),t.TgZ(58,"div",30)(59,"span",31),t._uU(60),t.qZA(),t.YNc(61,Mt,3,0,"button",32),t.qZA()()(),t.TgZ(62,"div",33)(63,"div",34)(64,"div",35)(65,"div",36),t._uU(66,"NIC Management"),t.qZA(),t.TgZ(67,"app-dynamic-table",37),t.NdJ("editRow",function(g){return e.onEditRow(g)}),t.qZA()()(),t.TgZ(68,"div",38)(69,"div")(70,"div",39)(71,"app-macros-management-component",40),t.NdJ("editRow",function(g){return e.onEditRow(g)}),t.qZA()()()()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",e.showAlert),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(7),t.Q6J("ngIf",!e.loading),t.xp6(6),t.hij(" ",e.nicCount," "),t.xp6(6),t.hij(" ",e.subInterfaceCount," "),t.xp6(6),t.hij(" ",e.totalVlanCount," "),t.xp6(6),t.hij(" ",e.totalExternal," "),t.xp6(6),t.hij(" ",e.totalInternal," "),t.xp6(6),t.hij(" ",e.sdWaninterfaces.length," "),t.xp6(6),t.hij(" ",e.vpninterfaces.length," "),t.xp6(8),t.Oqu(e.defaultGateway),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(6),t.Q6J("data",e.interfaces)("displayedColumns",e.displayedColumns)("headerMapping",e.headerMapping),t.xp6(4),t.Q6J("externalinterfaces",e.externalinterfaces)("internalinterfaces",e.internalinterfaces)("sdWaninterfaces",e.sdWaninterfaces)("vpninterfaces",e.vpninterfaces)("nicList",e.nicList))},directives:[u.O5,f.W,I.pW,p.Hw,y.gM,K.Q,xt],styles:[""]}),i})();var At=r(2543),It=r(6766),Tt=r(4538),S=r(5804),Ot=r(797),Nt=r(7775),Pt=r(1149),Ut=r(8908);let St=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,Pt.p0,p.Ps,y.AV,b.ot,Ut.TU,S.J]]}),i})();var kt=r(6870);const Dt=[{path:"",component:Zt}];let Jt=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.JF,b.ot,At.t,T.lN,p.Ps,It.c,Tt.Tx,y.AV,S.J,Ot.c,u.ez,Nt.fC,I.Cv,St,kt.a,s.Bz.forChild(Dt)]]}),i})()}}]);