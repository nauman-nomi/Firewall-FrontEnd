"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[748],{3449:(z,A,l)=>{l.d(A,{S:()=>Ut});var t=l(5e3),f=l(1086),_=l(7221),o=l(3075),g=l(8341),h=l(8125),b=l(1377),Z=l(1279),u=l(9808),v=l(2494),T=l(1223),U=l(9722),x=l(6201),O=l(6766),F=l(3482),m=l(6808);function C(e,n){if(1&e&&(t.TgZ(0,"fuse-alert",42),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.Q6J("appearance","outline")("showIcon",!0)("type",i.alert.type),t.xp6(1),t.hij(" ",i.alert.message," ")}}function I(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function $(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function G(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function V(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function H(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function X(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function tt(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function it(e,n){if(1&e&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function et(e,n){1&e&&t._UZ(0,"mat-progress-spinner",44),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}let ot=(()=>{class e{constructor(i,s,p,d,c){this.dialogRef=i,this.data=s,this.nicService=p,this.fb=d,this.cdr=c,this.alert={type:"success",message:""},this.showAlert=!1,this.loading=!0,this.isSubmitting=!1,this.policy=["drop","return"],this.macros=[],this.optimizationOptions=["normal","high-latency","aggressive","conservative"],this.rulesetOptions=["none","basic","profile"],this.debugOptions=["none","urgent","misc","loud"],this.statePolicyOptions=["if-bound","floating"],this.requireOrderOptions=["yes","no"],this.syncookiesOptions=["never","always","adaptive"],this.options={},this.options=this.data.row||{},this.pfForm=this.fb.group({blockPolicy:["",o.kI.required],logInterface:[[]],optimization:["",o.kI.required],rulesetOptimization:["",o.kI.required],limits:this.fb.group({states:[0,[o.kI.required,o.kI.min(0)]],frags:[0,[o.kI.required,o.kI.min(0)]],srcNodes:[0,[o.kI.required,o.kI.min(0)]],tableEntries:[0,[o.kI.required,o.kI.min(0)]]}),skipOnLo:[!1],debug:["",o.kI.required],fingerprints:[!1],statePolicy:["",o.kI.required],requireOrder:["",o.kI.required],syncookies:["",o.kI.required],timeouts:this.fb.group({tcpFirst:[0,[o.kI.required,o.kI.min(0)]],tcpOpening:[0,[o.kI.required,o.kI.min(0)]],tcpEstablished:[0,[o.kI.required,o.kI.min(0)]],tcpClosing:[0,[o.kI.required,o.kI.min(0)]],tcpFinwait:[0,[o.kI.required,o.kI.min(0)]],tcpClosed:[0,[o.kI.required,o.kI.min(0)]],udpFirst:[0,[o.kI.required,o.kI.min(0)]],udpSingle:[0,[o.kI.required,o.kI.min(0)]],icmpFirst:[0,[o.kI.required,o.kI.min(0)]],icmpError:[0,[o.kI.required,o.kI.min(0)]]})})}ngOnInit(){this.getMacros(),this.initializeForm()}initializeForm(){var i,s,p,d,c,r,y,q,w,N,E,P,k,D,M,J,S,Y,Q,W,L,j,R,K,B;const a=this.options;this.pfForm.patchValue({blockPolicy:(null===(i=a.other_settings)||void 0===i?void 0:i["block-policy"])||"drop",logInterface:a.loginterface||[],optimization:(null===(s=a.other_settings)||void 0===s?void 0:s.optimization)||"normal",rulesetOptimization:(null===(p=a.other_settings)||void 0===p?void 0:p["ruleset-optimization"])||"none",skipOnLo:(null===(d=a.skip)||void 0===d?void 0:d.includes("lo"))||!1,debug:(null===(c=a.other_settings)||void 0===c?void 0:c.debug)||"none",fingerprints:!!(null===(r=a.other_settings)||void 0===r?void 0:r.fingerprints),statePolicy:(null===(y=a.other_settings)||void 0===y?void 0:y["state-policy"])||"ifbound",requireOrder:(null===(q=a.other_settings)||void 0===q?void 0:q["require-order"])||"yes",syncookies:(null===(w=a.other_settings)||void 0===w?void 0:w.syncookies)||"adaptive"}),a.limit&&(null===(N=this.pfForm.get("limits"))||void 0===N||N.patchValue({states:null!==(E=a.limit.states)&&void 0!==E?E:0,frags:null!==(P=a.limit.frags)&&void 0!==P?P:0,srcNodes:null!==(k=a.limit["src-nodes"])&&void 0!==k?k:0,tableEntries:null!==(D=a.limit["table-entries"])&&void 0!==D?D:0})),a.timeout&&(null===(M=this.pfForm.get("timeouts"))||void 0===M||M.patchValue({tcpFirst:null!==(J=a.timeout["tcp.first"])&&void 0!==J?J:0,tcpOpening:null!==(S=a.timeout["tcp.opening"])&&void 0!==S?S:0,tcpEstablished:null!==(Y=a.timeout["tcp.established"])&&void 0!==Y?Y:0,tcpClosing:null!==(Q=a.timeout["tcp.closing"])&&void 0!==Q?Q:0,tcpFinwait:null!==(W=a.timeout["tcp.finwait"])&&void 0!==W?W:0,tcpClosed:null!==(L=a.timeout["tcp.closed"])&&void 0!==L?L:0,udpFirst:null!==(j=a.timeout["udp.first"])&&void 0!==j?j:0,udpSingle:null!==(R=a.timeout["udp.single"])&&void 0!==R?R:0,icmpFirst:null!==(K=a.timeout["icmp.first"])&&void 0!==K?K:0,icmpError:null!==(B=a.timeout["icmp.error"])&&void 0!==B?B:0}))}getMacros(){this.nicService.getMacrosList().pipe((0,_.K)(i=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,f.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(i=>{"success"===i.api_status?(this.macros=i.variables,this.loading=!1):(this.showTimedAlert("error",i.message||"Unknown error"),this.loading=!1)})}showTimedAlert(i,s){this.alert.type=i,this.alert.message=s,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}onSubmit(){if(this.pfForm.valid){this.showAlert=!1,this.isSubmitting=!0;const i=Object.assign(Object.assign({},this.pfForm.value),{api_key:this.nicService.apiKey});console.log(i),this.nicService.updateFWOptions(i).subscribe(s=>{console.log("FWOptions Update:",s),this.alert={type:"success"===s.status?"success":"error",message:s.message},this.showAlert=!0,this.isSubmitting=!1,this.closeDialog()},s=>{console.error("Failed to add Sub-NIC info:",s),this.alert={type:"error",message:"Failed to update Macros. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}closeDialog(){this.dialogRef.close("Dialog Closed")}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(g.so),t.Y36(g.WI),t.Y36(h.N),t.Y36(o.qu),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-update-fw-option"]],decls:122,vars:13,consts:[[1,"dialog-content"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"click"],[1,"text-white"],["class","mt-3 mb-2",3,"appearance","showIcon","type",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-x-4","gap-y-1","mt-3"],["appearance","fill",1,"w-full"],[1,"text-black"],["formControlName","blockPolicy"],[3,"value",4,"ngFor","ngForOf"],["formControlName","logInterface","multiple",""],["formControlName","optimization"],["formControlName","rulesetOptimization"],[1,"text-lg","col-span-4","font-bold","text-secondary","border-b-2","border-gray-300"],["formGroupName","limits",1,"col-span-4","grid","grid-cols-2","lg:grid-cols-4","gap-x-4"],["matInput","","type","number","formControlName","states","placeholder","Number of states"],["matInput","","type","number","formControlName","frags","placeholder","Number of frags"],["matInput","","type","number","formControlName","srcNodes","placeholder","Number of src nodes"],["matInput","","type","number","formControlName","tableEntries","placeholder","Number of table entries"],[1,"col-span-4","grid","grid-cols-1","lg:grid-cols-2","gap-4","border-b-2","pb-4"],["formControlName","skipOnLo"],["formControlName","fingerprints"],["formControlName","debug"],["formControlName","statePolicy"],["formControlName","requireOrder"],["formControlName","syncookies"],["formGroupName","timeouts",1,"col-span-4","grid","grid-cols-1","lg:grid-cols-5","gap-x-2"],["matInput","","type","number","formControlName","tcpFirst","placeholder","Timeout for TCP First"],["matInput","","type","number","formControlName","tcpOpening","placeholder","Timeout for TCP Opening"],["matInput","","type","number","formControlName","tcpEstablished","placeholder","Timeout for TCP Established"],["matInput","","type","number","formControlName","tcpClosing","placeholder","Timeout for TCP Closing"],["matInput","","type","number","formControlName","tcpFinwait","placeholder","Timeout for TCP Finwait"],["matInput","","type","number","formControlName","tcpClosed","placeholder","Timeout for TCP Closed"],["matInput","","type","number","formControlName","udpFirst","placeholder","Timeout for UDP First"],["matInput","","type","number","formControlName","udpSingle","placeholder","Timeout for UDP Single"],["matInput","","type","number","formControlName","icmpFirst","placeholder","Timeout for ICMP First"],["matInput","","type","number","formControlName","icmpError","placeholder","Timeout for ICMP Error"],[1,"flex","justify-end","border-t-2","p-2"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],[1,"mt-3","mb-2",3,"appearance","showIcon","type"],[3,"value"],[1,"ml-3",3,"diameter","mode"]],template:function(i,s){1&i&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3," Firewall Options "),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,C,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(9,"div",7)(10,"mat-form-field",8)(11,"mat-label",9),t._uU(12,"Block Policy"),t.qZA(),t.TgZ(13,"mat-select",10),t.YNc(14,I,2,2,"mat-option",11),t.qZA()(),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"Log Interface"),t.qZA(),t.TgZ(18,"mat-select",12),t.YNc(19,$,2,2,"mat-option",11),t.qZA()(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Optimization"),t.qZA(),t.TgZ(23,"mat-select",13),t.YNc(24,G,2,2,"mat-option",11),t.qZA()(),t.TgZ(25,"mat-form-field",8)(26,"mat-label"),t._uU(27,"Ruleset Optimization"),t.qZA(),t.TgZ(28,"mat-select",14),t.YNc(29,V,2,2,"mat-option",11),t.qZA()(),t.TgZ(30,"h3",15),t._uU(31,"Set Limit"),t.qZA(),t.TgZ(32,"div",16)(33,"mat-form-field",8)(34,"mat-label"),t._uU(35,"States"),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"mat-form-field",8)(38,"mat-label"),t._uU(39,"Frags"),t.qZA(),t._UZ(40,"input",18),t.qZA(),t.TgZ(41,"mat-form-field",8)(42,"mat-label"),t._uU(43,"Src Nodes"),t.qZA(),t._UZ(44,"input",19),t.qZA(),t.TgZ(45,"mat-form-field",8)(46,"mat-label"),t._uU(47,"Table Entries"),t.qZA(),t._UZ(48,"input",20),t.qZA()(),t.TgZ(49,"div",21)(50,"mat-checkbox",22),t._uU(51,"Skip on lo"),t.qZA(),t.TgZ(52,"mat-checkbox",23),t._uU(53,'Fingerprints ("/etc/pf.os")'),t.qZA()(),t.TgZ(54,"mat-form-field",8)(55,"mat-label"),t._uU(56,"Debug"),t.qZA(),t.TgZ(57,"mat-select",24),t.YNc(58,H,2,2,"mat-option",11),t.qZA()(),t.TgZ(59,"mat-form-field",8)(60,"mat-label"),t._uU(61,"State Policy"),t.qZA(),t.TgZ(62,"mat-select",25),t.YNc(63,X,2,2,"mat-option",11),t.qZA()(),t.TgZ(64,"mat-form-field",8)(65,"mat-label"),t._uU(66,"Require Order"),t.qZA(),t.TgZ(67,"mat-select",26),t.YNc(68,tt,2,2,"mat-option",11),t.qZA()(),t.TgZ(69,"mat-form-field",8)(70,"mat-label"),t._uU(71,"Syncookies"),t.qZA(),t.TgZ(72,"mat-select",27),t.YNc(73,it,2,2,"mat-option",11),t.qZA()(),t.TgZ(74,"h3",15),t._uU(75,"Set Timeout"),t.qZA(),t.TgZ(76,"div",28)(77,"mat-form-field",8)(78,"mat-label"),t._uU(79,"TCP First"),t.qZA(),t._UZ(80,"input",29),t.qZA(),t.TgZ(81,"mat-form-field",8)(82,"mat-label"),t._uU(83,"TCP Opening"),t.qZA(),t._UZ(84,"input",30),t.qZA(),t.TgZ(85,"mat-form-field",8)(86,"mat-label"),t._uU(87,"TCP Established"),t.qZA(),t._UZ(88,"input",31),t.qZA(),t.TgZ(89,"mat-form-field",8)(90,"mat-label"),t._uU(91,"TCP Closing"),t.qZA(),t._UZ(92,"input",32),t.qZA(),t.TgZ(93,"mat-form-field",8)(94,"mat-label"),t._uU(95,"TCP Finwait"),t.qZA(),t._UZ(96,"input",33),t.qZA(),t.TgZ(97,"mat-form-field",8)(98,"mat-label"),t._uU(99,"TCP Closed"),t.qZA(),t._UZ(100,"input",34),t.qZA(),t.TgZ(101,"mat-form-field",8)(102,"mat-label"),t._uU(103,"UDP First"),t.qZA(),t._UZ(104,"input",35),t.qZA(),t.TgZ(105,"mat-form-field",8)(106,"mat-label"),t._uU(107,"UDP Single"),t.qZA(),t._UZ(108,"input",36),t.qZA(),t.TgZ(109,"mat-form-field",8)(110,"mat-label"),t._uU(111,"ICMP First"),t.qZA(),t._UZ(112,"input",37),t.qZA(),t.TgZ(113,"mat-form-field",8)(114,"mat-label"),t._uU(115,"ICMP Error"),t.qZA(),t._UZ(116,"input",38),t.qZA()()(),t.TgZ(117,"div",39)(118,"button",40)(119,"span"),t._uU(120," Update "),t.qZA(),t.YNc(121,et,1,2,"mat-progress-spinner",41),t.qZA()()()()),2&i&&(t.xp6(7),t.Q6J("ngIf",s.showAlert),t.xp6(1),t.Q6J("formGroup",s.pfForm),t.xp6(6),t.Q6J("ngForOf",s.policy),t.xp6(5),t.Q6J("ngForOf",s.macros),t.xp6(5),t.Q6J("ngForOf",s.optimizationOptions),t.xp6(5),t.Q6J("ngForOf",s.rulesetOptions),t.xp6(29),t.Q6J("ngForOf",s.debugOptions),t.xp6(5),t.Q6J("ngForOf",s.statePolicyOptions),t.xp6(5),t.Q6J("ngForOf",s.requireOrderOptions),t.xp6(5),t.Q6J("ngForOf",s.syncookiesOptions),t.xp6(45),t.Q6J("color","primary")("disabled",s.pfForm.invalid),t.xp6(3),t.Q6J("ngIf",s.isSubmitting))},directives:[g.xY,b.lW,Z.Hw,u.O5,v.W,o._Y,o.JL,o.sg,T.KE,T.hX,U.gD,o.JJ,o.u,u.sg,x.ey,o.x0,O.Nt,o.wV,o.Fj,F.oG,m.Ou],styles:[""]}),e})();var nt=l(1101),st=l(9824);function lt(e,n){if(1&e&&(t.TgZ(0,"fuse-alert",9),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.Q6J("appearance","outline")("showIcon",!0)("type",i.alert.type),t.xp6(1),t.hij(" ",i.alert.message," ")}}function at(e,n){1&e&&(t.TgZ(0,"div",10),t._UZ(1,"mat-progress-bar",11),t.qZA())}function rt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(i),t.oxw().refresh()}),t.TgZ(1,"mat-icon",13),t._uU(2,"refresh"),t.qZA()()}}function pt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(i),t.oxw().updateOptions()}),t.TgZ(1,"mat-icon",15),t._uU(2,"edit"),t.qZA()()}}function mt(e,n){if(1&e&&(t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.qZA(),t.TgZ(3,"span",30),t._uU(4),t.qZA()()),2&e){const i=n.$implicit;t.xp6(2),t.hij("",i.key,":"),t.xp6(2),t.Oqu(i.value)}}function ut(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",26),t.YNc(2,mt,5,2,"div",27),t.ALo(3,"keyvalue"),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,i.options.other_settings))}}function dt(e,n){1&e&&(t.TgZ(0,"p",31),t._uU(1,"No "),t.TgZ(2,"b"),t._uU(3,"General"),t.qZA(),t._uU(4," Setting Found."),t.qZA())}function ct(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",32)(2,"span",29),t._uU(3,"Log Interface:"),t.qZA(),t.TgZ(4,"span",30),t._uU(5),t.qZA()()()),2&e){const i=t.oxw(2);t.xp6(5),t.Oqu(i.options.loginterface.join(", "))}}function gt(e,n){1&e&&(t.TgZ(0,"p",31),t._uU(1,"No "),t.TgZ(2,"b"),t._uU(3,"Log Interface"),t.qZA(),t._uU(4," Setting Found."),t.qZA())}function ft(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",32)(2,"span",29),t._uU(3,"Skip Interface:"),t.qZA(),t.TgZ(4,"span",30),t._uU(5),t.qZA()()()),2&e){const i=t.oxw(2);t.xp6(5),t.Oqu(i.options.skip.join(", "))}}function _t(e,n){1&e&&(t.TgZ(0,"p",31),t._uU(1,"No "),t.TgZ(2,"b"),t._uU(3,"Skip Interface"),t.qZA(),t._uU(4," Setting Found."),t.qZA())}function ht(e,n){if(1&e&&(t.TgZ(0,"div",34)(1,"span",35),t._uU(2),t.qZA(),t.TgZ(3,"span",30),t._uU(4),t.qZA()()),2&e){const i=n.$implicit;t.xp6(2),t.hij("",i.key,":"),t.xp6(2),t.Oqu(i.value)}}function Zt(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",26),t.YNc(2,ht,5,2,"div",33),t.ALo(3,"keyvalue"),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,i.options.limit))}}function vt(e,n){1&e&&(t.TgZ(0,"p",31),t._uU(1,"No "),t.TgZ(2,"b"),t._uU(3,"Limit"),t.qZA(),t._uU(4," Setting Found."),t.qZA())}function Tt(e,n){if(1&e&&(t.TgZ(0,"div",34)(1,"span",35),t._uU(2),t.qZA(),t.TgZ(3,"span",30),t._uU(4),t.qZA()()),2&e){const i=n.$implicit;t.xp6(2),t.hij("",i.key,":"),t.xp6(2),t.Oqu(i.value)}}function Ot(e,n){if(1&e&&(t.TgZ(0,"div")(1,"div",36),t.YNc(2,Tt,5,2,"div",33),t.ALo(3,"keyvalue"),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,i.options.timeout))}}function At(e,n){1&e&&(t.TgZ(0,"p",31),t._uU(1,"No "),t.TgZ(2,"b"),t._uU(3,"Timeout"),t.qZA(),t._uU(4," Setting Found."),t.qZA())}function bt(e,n){if(1&e&&(t.TgZ(0,"div",16)(1,"div")(2,"span",17),t._uU(3,"General:"),t.qZA()(),t.YNc(4,ut,4,3,"div",18),t.YNc(5,dt,5,0,"ng-template",null,19,t.W1O),t.YNc(7,ct,6,1,"div",18),t.YNc(8,gt,5,0,"ng-template",null,20,t.W1O),t.YNc(10,ft,6,1,"div",18),t.YNc(11,_t,5,0,"ng-template",null,21,t.W1O),t.TgZ(13,"div",22)(14,"span",17),t._uU(15,"Limits:"),t.qZA()(),t.YNc(16,Zt,4,3,"div",18),t.YNc(17,vt,5,0,"ng-template",null,23,t.W1O),t.TgZ(19,"div",24)(20,"span",17),t._uU(21,"Timeout:"),t.qZA()(),t.YNc(22,Ot,4,3,"div",18),t.YNc(23,At,5,0,"ng-template",null,25,t.W1O),t.qZA()),2&e){const i=t.MAs(6),s=t.MAs(9),p=t.MAs(12),d=t.MAs(18),c=t.MAs(24),r=t.oxw();t.xp6(4),t.Q6J("ngIf",r.options.other_settings&&r.getKeys(r.options.other_settings).length>0)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",r.options.loginterface&&r.options.loginterface.length>0)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",r.options.skip&&r.options.skip.length>0)("ngIfElse",p),t.xp6(6),t.Q6J("ngIf",r.options.limit&&r.getKeys(r.options.limit).length>0)("ngIfElse",d),t.xp6(6),t.Q6J("ngIf",r.options.timeout&&r.getKeys(r.options.timeout).length>0)("ngIfElse",c)}}let Ut=(()=>{class e{constructor(i,s,p){this.dialog=i,this.getNicInfoService=s,this.cdr=p,this.editRow=new t.vpe,this.loading=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.options=[],this.optionViewType="primary"}ngOnInit(){this.getFWOptions()}showTimedAlert(i,s){this.alert.type=i,this.alert.message=s,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}refresh(){this.getFWOptions()}getFWOptions(){this.loading=!0,this.getNicInfoService.getFWOPtionsData().pipe((0,_.K)(i=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,f.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(i=>{this.showAlert=!1,"success"===i.api_status?(this.options=i.data,console.log(this.options),this.loading=!1,this.showTimedAlert("success","Updated Successfully")):(this.showTimedAlert("error",i.message||"Unknown error"),this.loading=!1)}),this.cdr.detectChanges()}getKeys(i){return i?Object.keys(i):[]}updateOptions(){this.dialog.open(ot,{width:"750px",disableClose:!0,data:{title:"Update Firewall options",row:this.options}}).afterClosed().subscribe(s=>{console.log("Dialog closed",s),this.onUpdate([])})}onUpdate(i){i.sep="updateFwOption",this.editRow.emit(i)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(g.uw),t.Y36(h.N),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-fw-options"]],outputs:{editRow:"editRow"},decls:11,vars:5,consts:[[1,"flex","flex-col","border-none","shadow-none","rounded-none"],["class","mt-0 -mb-2",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","border-b-2","border-primary-500","mt-2"],[1,"flex","text-xl","font-bold","text-primary","mt-2"],[1,"justify-self-end","mt-2"],["class"," bg-primary text-white rounded-3xl h-6",3,"click",4,"ngIf"],["class","ml-2 bg-warn-600 text-white rounded-3xl h-6",3,"click",4,"ngIf"],["class","grid sm:grid-cols-1 lg:grid-cols-1 mt-3",4,"ngIf"],[1,"mt-0","-mb-2",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"bg-primary","text-white","rounded-3xl","h-6",3,"click"],["matTooltip","Refresh",1,"text-white","text-2xl"],[1,"ml-2","bg-warn-600","text-white","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Firewall Options",1,"text-white","text-2xl"],[1,"grid","sm:grid-cols-1","lg:grid-cols-1","mt-3"],[1,"text-lg","font-medium"],[4,"ngIf","ngIfElse"],["emptyGeneralSettingTemplate",""],["noLogInterface",""],["noSkipInterface",""],[1,"my-1","border-t-2","border-accent-300"],["noLimitTemplate",""],[1,"my-1","border-t-2","border-primary-200","mt-2"],["noTimeoutTemplate",""],[1,"grid","sm:grid-cols-1","lg:grid-cols-4"],["class","justify-self-start mx-4 my-1 ml-3 mt-2",4,"ngFor","ngForOf"],[1,"justify-self-start","mx-4","my-1","ml-3","mt-2"],[1,"text-base","font-medium"],[1,"ml-1","bg-primary-400","text-md","px-3","font-medium","py-1","rounded-xl"],[1,"paddingleft"],[1,"justify-self-start","mx-4","my-1","ml-3"],["class","justify-self-start mx-4 ml-3 mt-1",4,"ngFor","ngForOf"],[1,"justify-self-start","mx-4","ml-3","mt-1"],[1,"font-medium","text-base"],[1,"grid","sm:grid-cols-1","lg:grid-cols-5"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t.YNc(1,lt,2,4,"fuse-alert",1),t.YNc(2,at,2,0,"div",2),t.TgZ(3,"div")(4,"div",3)(5,"div",4),t._uU(6,"Firewall Options"),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,rt,3,0,"button",6),t.YNc(9,pt,3,0,"button",7),t.qZA()(),t.YNc(10,bt,25,10,"div",8),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngIf",s.showAlert),t.xp6(1),t.Q6J("ngIf",s.loading),t.xp6(6),t.Q6J("ngIf",!s.loading),t.xp6(1),t.Q6J("ngIf",!s.loading),t.xp6(1),t.Q6J("ngIf",s.options))},directives:[u.O5,v.W,nt.pW,Z.Hw,st.gM,u.sg],pipes:[u.Nd],styles:[".paddingleft[_ngcontent-%COMP%]{margin-left:20px;margin-top:3px}"]}),e})()},6870:(z,A,l)=>{l.d(A,{a:()=>F});var t=l(9808),f=l(1279),_=l(9824),o=l(5804),g=l(1377),h=l(3075),b=l(9722),Z=l(6766),u=l(3482),v=l(1223),T=l(2930),U=l(7775),x=l(1101),O=l(5e3);let F=(()=>{class m{}return m.\u0275fac=function(I){return new(I||m)},m.\u0275mod=O.oAB({type:m}),m.\u0275inj=O.cJS({imports:[[t.ez,h.UX,b.LD,Z.c,u.p9,g.ot,T.QW,f.Ps,v.lN,o.J,x.Cv,_.AV,U.fC]]}),m})()}}]);