"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[788],{4788:(D,r,i)=>{i.r(r),i.d(r,{RoutingModule:()=>J});var p=i(325),m=i(1086),f=i(7221),l=i(8341),t=i(5e3);let h=(()=>{class o{constructor(e,n){this.dialogRef=e,this.data=n,console.log(n)}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.so),t.Y36(l.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dialog-add-route"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"dialog-add-route works!"),t.qZA())},styles:[""]}),o})();var x=i(8125),c=i(9808),v=i(2494),g=i(1101),u=i(1279),y=i(1218);function R(o,s){if(1&o&&(t.TgZ(0,"fuse-alert",17),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!1)("type",e.alert.type)("@shake","error"===e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function b(o,s){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,R,2,5,"fuse-alert",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.showAlert)}}function w(o,s){1&o&&(t.TgZ(0,"div",18),t._UZ(1,"mat-progress-bar",19),t.qZA())}function C(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().refreshTable()}),t.TgZ(1,"mat-icon",21),t._uU(2,"refresh"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.loading)}}function A(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRoute()}),t.TgZ(1,"mat-icon",23),t._uU(2,"add"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.loading)}}let T=(()=>{class o{constructor(e,n,a){this.NicService=e,this.dialog=n,this.cdr=a,this.alert={type:"success",message:"Message"},this.showAlert=!1,this.userData=[],this.loading=!1,this.allIpAddresses=[],this.headerMapping={destination:"Destination",gateway:"Gateway",flags:"Flags",interface:"Interface",routing_action:"Action"},this.displayedColumns=["destination","gateway","flags","interface","routing_action"]}ngOnInit(){this.routingData()}refreshTable(){this.loading=!0,this.routingData()}routingData(){this.NicService.getRoutingData().pipe((0,f.K)(e=>(this.showAlert=!0,this.alert.type="error",this.alert.message="Error Fetching Data",this.loading=!1,(0,m.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(e=>{this.showAlert=!1,"success"===e.routing_table.api_status?(this.userData=e.routing_table.routes,this.allIpAddresses=e.ip_addresses.ip_addresses,console.log(this.allIpAddresses),this.loading=!1):(this.showAlert=!0,this.alert.message=e.message||"Unknown error",this.alert.type="error",this.loading=!1)}),this.cdr.detectChanges()}onEditRow(e){}addRoute(){this.dialog.open(h,{width:"700px",data:{title:"Add Route",old_ip:this.allIpAddresses}}).afterClosed().subscribe(n=>{console.log("Dialog closed",n),this.refreshTable()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.N),t.Y36(l.uw),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-routing"]],decls:22,vars:9,consts:[[1,"flex","flex-auto","p-3","sm:p-5"],[1,"flex","flex-col","flex-auto","w-full"],["class","mb-8",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","rounded-xl","bg-primary-500"],[1,"justify-self-start","flex","items-center"],[1,"text-xl","font-bold","leading-none","tracking-tight","text-white","pl-5"],[1,"justify-self-end","m-2","mr-4"],["class","px-2 pt-1 bg-white text-white rounded-md",3,"disabled","click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-4","gap-4"],[1,"col-span-2","flex","flex-col","px-5","pt-4","pb-5","shadow","rounded-2xl","overflow-hidden","bg-card"],[3,"data","displayedColumns","headerMapping","editRow"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","rounded-xl","bg-accent-500"],["class","px-2 pt-1 bg-white rounded-md",3,"disabled","click",4,"ngIf"],[1,"mb-8"],["class","mt-0 -mb-2",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-0","-mb-2",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"px-2","pt-1","bg-white","text-white","rounded-md",3,"disabled","click"],[1,"text-primary"],[1,"px-2","pt-1","bg-white","rounded-md",3,"disabled","click"],[1,"text-primary","font-bold"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,b,2,1,"div",2),t.YNc(3,w,2,0,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._uU(8," Routing Management "),t.qZA()(),t.TgZ(9,"div",8),t.YNc(10,C,3,1,"button",9),t.qZA()()(),t.TgZ(11,"div",10)(12,"div",11)(13,"app-dynamic-table",12),t.NdJ("editRow",function(d){return n.onEditRow(d)}),t.qZA()(),t.TgZ(14,"div",11)(15,"div",13)(16,"div",6)(17,"div",7),t._uU(18," Custom Routes "),t.qZA()(),t.TgZ(19,"div",8),t.YNc(20,A,3,1,"button",14),t.qZA()(),t.TgZ(21,"app-dynamic-table",12),t.NdJ("editRow",function(d){return n.onEditRow(d)}),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(7),t.Q6J("ngIf",!n.loading),t.xp6(3),t.Q6J("data",n.userData)("displayedColumns",n.displayedColumns)("headerMapping",n.headerMapping),t.xp6(7),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("displayedColumns",n.displayedColumns)("headerMapping",n.headerMapping))},directives:[c.O5,v.W,g.pW,u.Hw,y.Q],styles:[""]}),o})();var Z=i(7775),I=i(797);const _=[{path:"",component:T}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,u.Ps,I.c,Z.fC,g.Cv,p.Bz.forChild(_)]]}),o})()}}]);