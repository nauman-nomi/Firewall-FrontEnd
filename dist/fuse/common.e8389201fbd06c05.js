"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{9971:(b,r,i)=>{i.d(r,{d:()=>f});var o=i(8341),e=i(5e3),c=i(8125),g=i(9808),d=i(2494),m=i(1101),u=i(1377);function _(a,n){if(1&a&&(e.TgZ(0,"fuse-alert",8),e._uU(1),e.qZA()),2&a){const s=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",s.alert.type),e.xp6(1),e.hij(" ",s.alert.message,"\n")}}function h(a,n){1&a&&(e.TgZ(0,"div",9),e._UZ(1,"mat-progress-bar",10),e.qZA())}let f=(()=>{class a{constructor(s,t,l,p){this.nicService=s,this.dialogRef=t,this.data=l,this.cdr=p,this.alert={type:"success",message:""},this.showAlert=!1,this.isSubmitting=!1}ngOnInit(){}onYesClick(){if("delete-sub-nic"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const s=Object.assign(Object.assign({},this.data.row),{api_key:this.nicService.apiKey});console.log(s),this.nicService.deleteSubNic(s).subscribe(t=>{console.log("Sub-NIC removed successfully:",t),this.alert={type:"success"===t.status?"success":"error",message:t.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(t)},t=>{console.error("Failed to removed NIC info:",t),this.alert={type:"error",message:"Failed to removed Sub-NIC. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}else if("delete-web-mod-sec"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const s={domain:this.data.row.domain_name};console.log(s),this.nicService.deleteModSecApi(s).subscribe(t=>{"success"==t.api_status?(console.log("Mod Sec removed successfully:",t),this.alert={type:"success"===t.status?"success":"error",message:t.message},this.showAlert=!0,this.isSubmitting=!1):(console.log("Error:",t),this.alert={type:"success"===t.status?"success":"error",message:t.message},this.showAlert=!0,this.isSubmitting=!1),this.dialogRef.close(t)},t=>{console.error("Failed to removed Mod Sec info:",t),this.alert={type:"error",message:"Failed to removed Mod Sec. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),console.log(this.data.row.domain_name)}else console.log("Unhandled action:",this.data.action)}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(c.N),e.Y36(o.so),e.Y36(o.WI),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-warning-dialog"]],decls:12,vars:8,consts:[["mat-dialog-title","",1,"rounded-t-lg","font-semibold"],[1,"border-gray-300","-mt-3","mb-2"],["class","mt-2 mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"px-8"],[1,"flex","justify-end","space-x-4","p-4"],["mat-button","","mat-dialog-close","","cdkFocusInitial","",1,"px-4","py-2","border","hover:bg-primary","rounded-md","bg-gray-200",3,"disabled"],["mat-button","",1,"px-4","py-2","border","rounded-md","hover:bg-warn","bg-gray-200",3,"disabled","click"],[1,"mt-2","mb-4",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"]],template:function(s,t){1&s&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e._UZ(2,"hr",1),e.YNc(3,_,2,4,"fuse-alert",2),e.YNc(4,h,2,0,"div",3),e.TgZ(5,"mat-dialog-content",4),e._uU(6),e.qZA(),e.TgZ(7,"mat-dialog-actions",5)(8,"button",6),e._uU(9,"No"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.onYesClick()}),e._uU(11,"Yes"),e.qZA()()),2&s&&(e.xp6(1),e.lnq("",t.data.title,' "',t.data.row.domain_name,"",t.data.row.nic_name,'"'),e.xp6(2),e.Q6J("ngIf",t.showAlert),e.xp6(1),e.Q6J("ngIf",t.isSubmitting),e.xp6(2),e.hij(" ",t.data.message,"\n"),e.xp6(2),e.Q6J("disabled",t.isSubmitting),e.xp6(2),e.Q6J("disabled",t.isSubmitting))},directives:[o.uh,g.O5,d.W,m.pW,o.xY,o.H8,u.lW,o.ZT],styles:["button[_ngcontent-%COMP%]{margin-right:8px}"]}),a})()}}]);