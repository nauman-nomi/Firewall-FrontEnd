"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[469],{7469:(he,L,l)=>{l.r(L),l.d(L,{NetworkInterfaceModule:()=>_e});var B=l(520),X=l(325),q=l(1086),k=l(7221),a=l(3075),d=l(8341),t=l(5e3),f=l(6500),u=l(1377),g=l(1279),p=l(9808),h=l(2494),w=l(6808);function K(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function tt(i,o){1&i&&(t.TgZ(0,"small",19),t._uU(1," Invalid IP address (Format: 192.168.1.1) "),t.qZA())}function et(i,o){1&i&&(t.TgZ(0,"small",19),t._uU(1," Invalid Subnet Mask (Format: 255.255.255.0) "),t.qZA())}function nt(i,o){1&i&&t._UZ(0,"mat-progress-spinner",20),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let it=(()=>{class i{constructor(e,n,s,r,m){this.dialogRef=e,this.data=n,this.fb=s,this.nicService=r,this.cdr=m,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=n.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}SaveNICInfo(){}ipAlreadyExistsValidator(){return e=>this.oldIp.includes(e.value)?{ipExists:!0}:null}ngOnInit(){this.networkForm=this.fb.group({ip_address:["",[a.kI.required,a.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.ipAlreadyExistsValidator()]],subnet_mask:["",[a.kI.required,a.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/)]],nic_name:["",a.kI.required],category:[""]}),this.networkForm.patchValue({ip_address:this.data.row.ip_address,subnet_mask:this.data.row.subnet_mask,nic_name:this.data.row.nic_name,category:this.data.row.category})}onSubmit(){if(this.networkForm.valid){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.networkForm.value),{api_key:this.nicService.apiKey});this.nicService.updateNicInfo(e).subscribe(n=>{console.log("NIC info updated successfully:",n),this.alert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(n)},n=>{console.error("Failed to update NIC info:",n),this.alert={type:"error",message:"Failed to update NIC info. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.networkForm.reset({ip_address:this.data.row.ip_address,subnet_mask:this.data.row.subnet_mask,nic_name:this.data.row.nic_name})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(a.qu),t.Y36(f.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-main"]],decls:29,vars:12,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","ip_address",1,"input-field"],["class","error",4,"ngIf"],["type","text","formControlName","subnet_mask",1,"input-field"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,K,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"IP Address"),t.qZA(),t._UZ(14,"input",11),t.YNc(15,tt,2,0,"small",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Subnet Mask"),t.qZA(),t._UZ(19,"input",13),t.YNc(20,et,2,0,"small",12),t.qZA()()(),t.TgZ(21,"mat-dialog-actions",14)(22,"button",15)(23,"span"),t._uU(24," Update "),t.qZA(),t.YNc(25,nt,1,2,"mat-progress-spinner",16),t.qZA(),t.TgZ(26,"button",17),t.NdJ("click",function(){return n.resetForm()}),t.TgZ(27,"span"),t._uU(28," Reset "),t.qZA()()()()()),2&e){let s,r;t.xp6(3),t.AsE(" ",n.data.title," - ",n.data.row.nic_name," "),t.xp6(1),t.Q6J("disabled",n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.networkForm),t.xp6(7),t.Q6J("ngIf",(null==(s=n.networkForm.get("ip_address"))?null:s.invalid)&&(null==(s=n.networkForm.get("ip_address"))?null:s.touched)),t.xp6(5),t.Q6J("ngIf",(null==(r=n.networkForm.get("subnet_mask"))?null:r.invalid)&&(null==(r=n.networkForm.get("subnet_mask"))?null:r.touched)),t.xp6(2),t.Q6J("color","primary")("disabled",n.networkForm.invalid||n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",n.isSubmitting)}},directives:[d.xY,u.lW,g.Hw,p.O5,h.W,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.H8,w.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})();var U=l(1101);function ot(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",8),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message,"\n")}}function at(i,o){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"mat-progress-bar",10),t.qZA())}let st=(()=>{class i{constructor(e,n,s,r){this.nicService=e,this.dialogRef=n,this.data=s,this.cdr=r,this.alert={type:"success",message:""},this.showAlert=!1,this.isSubmitting=!1}ngOnInit(){}onYesClick(){if("delete-sub-nic"===this.data.action){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.data.row),{api_key:this.nicService.apiKey});console.log(e),this.nicService.deleteSubNic(e).subscribe(n=>{console.log("Sub-NIC removed successfully:",n),this.alert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(n)},n=>{console.error("Failed to removed NIC info:",n),this.alert={type:"error",message:"Failed to removed Sub-NIC. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges(),console.log("Deleting sub-interface:",this.data.row.nic_name)}else console.log("Unhandled action:",this.data.action)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.N),t.Y36(d.so),t.Y36(d.WI),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-warning-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title","",1,"rounded-t-lg","font-semibold"],[1,"border-gray-300","-mt-3","mb-2"],["class","mt-2 mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"px-8"],[1,"flex","justify-end","space-x-4","p-4"],["mat-button","","mat-dialog-close","","cdkFocusInitial","",1,"px-4","py-2","border","hover:bg-primary","rounded-md","bg-gray-200",3,"disabled"],["mat-button","",1,"px-4","py-2","border","rounded-md","hover:bg-warn","bg-gray-200",3,"disabled","click"],[1,"mt-2","mb-4",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t._UZ(2,"hr",1),t.YNc(3,ot,2,4,"fuse-alert",2),t.YNc(4,at,2,0,"div",3),t.TgZ(5,"mat-dialog-content",4),t._uU(6),t.qZA(),t.TgZ(7,"mat-dialog-actions",5)(8,"button",6),t._uU(9,"No"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return n.onYesClick()}),t._uU(11,"Yes"),t.qZA()()),2&e&&(t.xp6(1),t.AsE("",n.data.title,' "',n.data.row.nic_name,'"'),t.xp6(2),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("ngIf",n.isSubmitting),t.xp6(2),t.hij(" ",n.data.message,"\n"),t.xp6(2),t.Q6J("disabled",n.isSubmitting),t.xp6(2),t.Q6J("disabled",n.isSubmitting))},directives:[d.uh,p.O5,h.W,U.pW,d.xY,d.H8,u.lW,d.ZT],styles:["button[_ngcontent-%COMP%]{margin-right:8px}"]}),i})();function rt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function lt(i,o){1&i&&(t.TgZ(0,"div",19),t._UZ(1,"mat-progress-bar",20),t.qZA())}function dt(i,o){1&i&&(t.TgZ(0,"small",21),t._uU(1," Invalid Gateway (Format: 192.168.1.1) "),t.qZA())}function ct(i,o){1&i&&t._UZ(0,"mat-progress-spinner",22),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let pt=(()=>{class i{constructor(e,n,s,r,m){this.dialogRef=e,this.data=n,this.fb=s,this.nicService=r,this.cdr=m,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=n.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}ngOnInit(){this.gatewayForm=this.fb.group({gateway:["",[a.kI.required,a.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.gatewayValidator()]]}),this.gatewayForm.patchValue({gateway:this.data.gateway})}gatewayValidator(){return e=>{if(!e.value)return null;const n=e.value;for(const s of this.oldIp)if(this.isSameNetwork(s,n)&&s.split(".").slice(0,3).join(".")===n.split(".").slice(0,3).join(".")&&n!==s)return null;return{invalidGateway:!0}}}isSameNetwork(e,n){return e.split(".").slice(0,3).join(".")===n.split(".").slice(0,3).join(".")}onSubmit(){if(this.gatewayForm.valid){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.gatewayForm.value),{api_key:this.nicService.apiKey});console.log(e),this.nicService.updateDefualtGW(e).subscribe(n=>{console.log("Default Gateway updated successfully:",n),this.alert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1},n=>{console.error("Failed to update Default Gateway:",n),this.alert={type:"error",message:"Failed to update Default Gateway. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.gatewayForm.reset({gateway:this.data.gateway})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(a.qu),t.Y36(f.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-update-default-gw"]],decls:25,vars:11,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","gateway",1,"input-field"],["class","error",4,"ngIf"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,rt,2,4,"fuse-alert",5),t.YNc(8,lt,2,0,"div",6),t.TgZ(9,"form",7),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),t._uU(14,"Default Gateway"),t.qZA(),t._UZ(15,"input",12),t.YNc(16,dt,2,0,"small",13),t.qZA()()(),t.TgZ(17,"mat-dialog-actions",14)(18,"button",15)(19,"span"),t._uU(20," Update "),t.qZA(),t.YNc(21,ct,1,2,"mat-progress-spinner",16),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return n.resetForm()}),t.TgZ(23,"span"),t._uU(24," Reset "),t.qZA()()()()()),2&e){let s;t.xp6(3),t.hij(" ",n.data.title," "),t.xp6(1),t.Q6J("disabled",n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("ngIf",n.isSubmitting),t.xp6(1),t.Q6J("formGroup",n.gatewayForm),t.xp6(7),t.Q6J("ngIf",(null==(s=n.gatewayForm.get("gateway"))?null:s.invalid)&&(null==(s=n.gatewayForm.get("gateway"))?null:s.touched)),t.xp6(2),t.Q6J("color","primary")("disabled",n.gatewayForm.invalid||n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",n.isSubmitting)}},directives:[d.xY,u.lW,g.Hw,p.O5,h.W,U.pW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.H8,w.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})();function mt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",19),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function gt(i,o){1&i&&(t.TgZ(0,"small",20),t._uU(1," Invalid IP address (Format: 192.168.1.1) "),t.qZA())}function ut(i,o){1&i&&(t.TgZ(0,"small",20),t._uU(1," Invalid Subnet Mask (Format: 255.255.255.0) "),t.qZA())}function ft(i,o){1&i&&t._UZ(0,"mat-progress-spinner",21),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let _t=(()=>{class i{constructor(e,n,s,r,m){this.dialogRef=e,this.data=n,this.fb=s,this.nicService=r,this.cdr=m,this.isSubmitting=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.oldIp=[],this.oldIp=n.old_ip}closeDialog(){this.dialogRef.close("Dialog Closed")}SaveNICInfo(){}ipAlreadyExistsValidator(){return e=>this.oldIp.includes(e.value)?{ipExists:!0}:null}ngOnInit(){this.addSubNicForm=this.fb.group({ip_address:["",[a.kI.required,a.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/),this.ipAlreadyExistsValidator()]],subnet_mask:["",[a.kI.required,a.kI.pattern(/^(\d{1,3}\.){3}\d{1,3}$/)]],nic_name:["",a.kI.required],category:[""]}),this.addSubNicForm.patchValue({nic_name:this.data.row.nic_name})}onSubmit(){if(this.addSubNicForm.valid){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.addSubNicForm.value),{api_key:this.nicService.apiKey});console.log(e),this.nicService.addSubNic(e).subscribe(n=>{console.log("Sub-NIC added successfully:",n),this.alert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1,this.dialogRef.close(n)},n=>{console.error("Failed to add Sub-NIC info:",n),this.alert={type:"error",message:"Failed to add Sub-NIC info. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}resetForm(){this.addSubNicForm.reset({ip_address:"",subnet_mask:"",nic_name:this.data.row.nic_name})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(a.qu),t.Y36(f.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-add-sub-nic"]],decls:30,vars:12,consts:[[1,"dialog-content","pb-1"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"disabled","click"],[1,"text-white"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"p-6","rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],[1,"form-group"],[1,"block","font-semibold","mb-1"],["type","text","formControlName","ip_address",1,"input-field"],["class","error",4,"ngIf"],["type","text","formControlName","subnet_mask",1,"input-field"],[1,"dialog-footer"],["align","end"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],["type","button","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled","click"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"error"],[1,"ml-3",3,"diameter","mode"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,mt,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"IP Address"),t.qZA(),t._UZ(14,"input",11),t.YNc(15,gt,2,0,"small",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Subnet Mask"),t.qZA(),t._UZ(19,"input",13),t.YNc(20,ut,2,0,"small",12),t.qZA()()(),t._UZ(21,"div",14),t.TgZ(22,"mat-dialog-actions",15)(23,"button",16)(24,"span"),t._uU(25," Update "),t.qZA(),t.YNc(26,ft,1,2,"mat-progress-spinner",17),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){return n.resetForm()}),t.TgZ(28,"span"),t._uU(29," Reset "),t.qZA()()()()()),2&e){let s,r;t.xp6(3),t.AsE(" ",n.data.title,' in "',n.data.row.nic_name,'" '),t.xp6(1),t.Q6J("disabled",n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.addSubNicForm),t.xp6(7),t.Q6J("ngIf",(null==(s=n.addSubNicForm.get("ip_address"))?null:s.invalid)&&(null==(s=n.addSubNicForm.get("ip_address"))?null:s.touched)),t.xp6(5),t.Q6J("ngIf",(null==(r=n.addSubNicForm.get("subnet_mask"))?null:r.invalid)&&(null==(r=n.addSubNicForm.get("subnet_mask"))?null:r.touched)),t.xp6(3),t.Q6J("color","primary")("disabled",n.addSubNicForm.invalid||n.isSubmitting),t.xp6(3),t.Q6J("ngIf",n.isSubmitting),t.xp6(1),t.Q6J("color","accent")("disabled",n.isSubmitting)}},directives:[d.xY,u.lW,g.Hw,p.O5,h.W,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.H8,w.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:auto;overflow:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{padding-top:10px}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-top:5px;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:5px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px}.form-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;font-size:14px;border-radius:5px}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#ccc}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]}),i})(),ht=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-add-vlan"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"dialog-add-vlan works!"),t.qZA())},styles:[""]}),i})();var C=l(1223),F=l(9722),z=l(6201),P=l(6766),V=l(3482);function bt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",42),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","outline")("showIcon",!0)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function xt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Zt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function vt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Ct(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function yt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function wt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Tt(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function At(i,o){if(1&i&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function It(i,o){1&i&&t._UZ(0,"mat-progress-spinner",44),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let Ot=(()=>{class i{constructor(e,n,s,r,m){this.dialogRef=e,this.data=n,this.nicService=s,this.fb=r,this.cdr=m,this.alert={type:"success",message:""},this.showAlert=!1,this.loading=!0,this.isSubmitting=!1,this.policy=["drop","return"],this.macros=[],this.optimizationOptions=["normal","high-latency","aggressive","conservative"],this.rulesetOptions=["none","basic","profile"],this.debugOptions=["none","urgent","misc","loud"],this.statePolicyOptions=["if-bound","floating"],this.requireOrderOptions=["yes","no"],this.syncookiesOptions=["never","always","adaptive"],this.options={},this.options=this.data.row||{},this.pfForm=this.fb.group({blockPolicy:["",a.kI.required],logInterface:[[]],optimization:["",a.kI.required],rulesetOptimization:["",a.kI.required],limits:this.fb.group({states:[0,[a.kI.required,a.kI.min(0)]],frags:[0,[a.kI.required,a.kI.min(0)]],srcNodes:[0,[a.kI.required,a.kI.min(0)]],tableEntries:[0,[a.kI.required,a.kI.min(0)]]}),skipOnLo:[!1],debug:["",a.kI.required],fingerprints:[!1],statePolicy:["",a.kI.required],requireOrder:["",a.kI.required],syncookies:["",a.kI.required],timeouts:this.fb.group({tcpFirst:[0,[a.kI.required,a.kI.min(0)]],tcpOpening:[0,[a.kI.required,a.kI.min(0)]],tcpEstablished:[0,[a.kI.required,a.kI.min(0)]],tcpClosing:[0,[a.kI.required,a.kI.min(0)]],tcpFinwait:[0,[a.kI.required,a.kI.min(0)]],tcpClosed:[0,[a.kI.required,a.kI.min(0)]],udpFirst:[0,[a.kI.required,a.kI.min(0)]],udpSingle:[0,[a.kI.required,a.kI.min(0)]],icmpFirst:[0,[a.kI.required,a.kI.min(0)]],icmpError:[0,[a.kI.required,a.kI.min(0)]]})})}ngOnInit(){this.getMacros(),this.initializeForm()}initializeForm(){var e,n,s,r,m,_,b,x,Z,v,T,A,I,O,y,N,J,D,Q,j,Y,W,R,E,G;const c=this.options;this.pfForm.patchValue({blockPolicy:(null===(e=c.other_settings)||void 0===e?void 0:e["block-policy"])||"drop",logInterface:c.loginterface||[],optimization:(null===(n=c.other_settings)||void 0===n?void 0:n.optimization)||"normal",rulesetOptimization:(null===(s=c.other_settings)||void 0===s?void 0:s["ruleset-optimization"])||"none",skipOnLo:(null===(r=c.skip)||void 0===r?void 0:r.includes("lo"))||!1,debug:(null===(m=c.other_settings)||void 0===m?void 0:m.debug)||"none",fingerprints:!!(null===(_=c.other_settings)||void 0===_?void 0:_.fingerprints),statePolicy:(null===(b=c.other_settings)||void 0===b?void 0:b["state-policy"])||"ifbound",requireOrder:(null===(x=c.other_settings)||void 0===x?void 0:x["require-order"])||"yes",syncookies:(null===(Z=c.other_settings)||void 0===Z?void 0:Z.syncookies)||"adaptive"}),c.limit&&(null===(v=this.pfForm.get("limits"))||void 0===v||v.patchValue({states:null!==(T=c.limit.states)&&void 0!==T?T:0,frags:null!==(A=c.limit.frags)&&void 0!==A?A:0,srcNodes:null!==(I=c.limit["src-nodes"])&&void 0!==I?I:0,tableEntries:null!==(O=c.limit["table-entries"])&&void 0!==O?O:0})),c.timeout&&(null===(y=this.pfForm.get("timeouts"))||void 0===y||y.patchValue({tcpFirst:null!==(N=c.timeout["tcp.first"])&&void 0!==N?N:0,tcpOpening:null!==(J=c.timeout["tcp.opening"])&&void 0!==J?J:0,tcpEstablished:null!==(D=c.timeout["tcp.established"])&&void 0!==D?D:0,tcpClosing:null!==(Q=c.timeout["tcp.closing"])&&void 0!==Q?Q:0,tcpFinwait:null!==(j=c.timeout["tcp.finwait"])&&void 0!==j?j:0,tcpClosed:null!==(Y=c.timeout["tcp.closed"])&&void 0!==Y?Y:0,udpFirst:null!==(W=c.timeout["udp.first"])&&void 0!==W?W:0,udpSingle:null!==(R=c.timeout["udp.single"])&&void 0!==R?R:0,icmpFirst:null!==(E=c.timeout["icmp.first"])&&void 0!==E?E:0,icmpError:null!==(G=c.timeout["icmp.error"])&&void 0!==G?G:0}))}getMacros(){this.nicService.getMacrosList().pipe((0,k.K)(e=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,q.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(e=>{"success"===e.api_status?(this.macros=e.variables,this.loading=!1):(this.showTimedAlert("error",e.message||"Unknown error"),this.loading=!1)})}showTimedAlert(e,n){this.alert.type=e,this.alert.message=n,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}onSubmit(){if(this.pfForm.valid){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.pfForm.value),{api_key:this.nicService.apiKey});console.log(e),this.nicService.updateFWOptions(e).subscribe(n=>{console.log("FWOptions Update:",n),this.alert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1,this.closeDialog()},n=>{console.error("Failed to add Sub-NIC info:",n),this.alert={type:"error",message:"Failed to update Macros. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}closeDialog(){this.dialogRef.close("Dialog Closed")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(f.N),t.Y36(a.qu),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-update-fw-option"]],decls:122,vars:13,consts:[[1,"dialog-content"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"click"],[1,"text-white"],["class","mt-3 mb-2",3,"appearance","showIcon","type",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-x-4","gap-y-1","mt-3"],["appearance","fill",1,"w-full"],[1,"text-black"],["formControlName","blockPolicy"],[3,"value",4,"ngFor","ngForOf"],["formControlName","logInterface","multiple",""],["formControlName","optimization"],["formControlName","rulesetOptimization"],[1,"text-lg","col-span-4","font-bold","text-secondary","border-b-2","border-gray-300"],["formGroupName","limits",1,"col-span-4","grid","grid-cols-2","lg:grid-cols-4","gap-x-4"],["matInput","","type","number","formControlName","states","placeholder","Number of states"],["matInput","","type","number","formControlName","frags","placeholder","Number of frags"],["matInput","","type","number","formControlName","srcNodes","placeholder","Number of src nodes"],["matInput","","type","number","formControlName","tableEntries","placeholder","Number of table entries"],[1,"col-span-4","grid","grid-cols-1","lg:grid-cols-2","gap-4","border-b-2","pb-4"],["formControlName","skipOnLo"],["formControlName","fingerprints"],["formControlName","debug"],["formControlName","statePolicy"],["formControlName","requireOrder"],["formControlName","syncookies"],["formGroupName","timeouts",1,"col-span-4","grid","grid-cols-1","lg:grid-cols-5","gap-x-2"],["matInput","","type","number","formControlName","tcpFirst","placeholder","Timeout for TCP First"],["matInput","","type","number","formControlName","tcpOpening","placeholder","Timeout for TCP Opening"],["matInput","","type","number","formControlName","tcpEstablished","placeholder","Timeout for TCP Established"],["matInput","","type","number","formControlName","tcpClosing","placeholder","Timeout for TCP Closing"],["matInput","","type","number","formControlName","tcpFinwait","placeholder","Timeout for TCP Finwait"],["matInput","","type","number","formControlName","tcpClosed","placeholder","Timeout for TCP Closed"],["matInput","","type","number","formControlName","udpFirst","placeholder","Timeout for UDP First"],["matInput","","type","number","formControlName","udpSingle","placeholder","Timeout for UDP Single"],["matInput","","type","number","formControlName","icmpFirst","placeholder","Timeout for ICMP First"],["matInput","","type","number","formControlName","icmpError","placeholder","Timeout for ICMP Error"],[1,"flex","justify-end","border-t-2","p-2"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],[1,"mt-3","mb-2",3,"appearance","showIcon","type"],[3,"value"],[1,"ml-3",3,"diameter","mode"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3," Firewall Options "),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,bt,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"div",7)(10,"mat-form-field",8)(11,"mat-label",9),t._uU(12,"Block Policy"),t.qZA(),t.TgZ(13,"mat-select",10),t.YNc(14,xt,2,2,"mat-option",11),t.qZA()(),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"Log Interface"),t.qZA(),t.TgZ(18,"mat-select",12),t.YNc(19,Zt,2,2,"mat-option",11),t.qZA()(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Optimization"),t.qZA(),t.TgZ(23,"mat-select",13),t.YNc(24,vt,2,2,"mat-option",11),t.qZA()(),t.TgZ(25,"mat-form-field",8)(26,"mat-label"),t._uU(27,"Ruleset Optimization"),t.qZA(),t.TgZ(28,"mat-select",14),t.YNc(29,Ct,2,2,"mat-option",11),t.qZA()(),t.TgZ(30,"h3",15),t._uU(31,"Set Limit"),t.qZA(),t.TgZ(32,"div",16)(33,"mat-form-field",8)(34,"mat-label"),t._uU(35,"States"),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"mat-form-field",8)(38,"mat-label"),t._uU(39,"Frags"),t.qZA(),t._UZ(40,"input",18),t.qZA(),t.TgZ(41,"mat-form-field",8)(42,"mat-label"),t._uU(43,"Src Nodes"),t.qZA(),t._UZ(44,"input",19),t.qZA(),t.TgZ(45,"mat-form-field",8)(46,"mat-label"),t._uU(47,"Table Entries"),t.qZA(),t._UZ(48,"input",20),t.qZA()(),t.TgZ(49,"div",21)(50,"mat-checkbox",22),t._uU(51,"Skip on lo"),t.qZA(),t.TgZ(52,"mat-checkbox",23),t._uU(53,'Fingerprints ("/etc/pf.os")'),t.qZA()(),t.TgZ(54,"mat-form-field",8)(55,"mat-label"),t._uU(56,"Debug"),t.qZA(),t.TgZ(57,"mat-select",24),t.YNc(58,yt,2,2,"mat-option",11),t.qZA()(),t.TgZ(59,"mat-form-field",8)(60,"mat-label"),t._uU(61,"State Policy"),t.qZA(),t.TgZ(62,"mat-select",25),t.YNc(63,wt,2,2,"mat-option",11),t.qZA()(),t.TgZ(64,"mat-form-field",8)(65,"mat-label"),t._uU(66,"Require Order"),t.qZA(),t.TgZ(67,"mat-select",26),t.YNc(68,Tt,2,2,"mat-option",11),t.qZA()(),t.TgZ(69,"mat-form-field",8)(70,"mat-label"),t._uU(71,"Syncookies"),t.qZA(),t.TgZ(72,"mat-select",27),t.YNc(73,At,2,2,"mat-option",11),t.qZA()(),t.TgZ(74,"h3",15),t._uU(75,"Set Timeout"),t.qZA(),t.TgZ(76,"div",28)(77,"mat-form-field",8)(78,"mat-label"),t._uU(79,"TCP First"),t.qZA(),t._UZ(80,"input",29),t.qZA(),t.TgZ(81,"mat-form-field",8)(82,"mat-label"),t._uU(83,"TCP Opening"),t.qZA(),t._UZ(84,"input",30),t.qZA(),t.TgZ(85,"mat-form-field",8)(86,"mat-label"),t._uU(87,"TCP Established"),t.qZA(),t._UZ(88,"input",31),t.qZA(),t.TgZ(89,"mat-form-field",8)(90,"mat-label"),t._uU(91,"TCP Closing"),t.qZA(),t._UZ(92,"input",32),t.qZA(),t.TgZ(93,"mat-form-field",8)(94,"mat-label"),t._uU(95,"TCP Finwait"),t.qZA(),t._UZ(96,"input",33),t.qZA(),t.TgZ(97,"mat-form-field",8)(98,"mat-label"),t._uU(99,"TCP Closed"),t.qZA(),t._UZ(100,"input",34),t.qZA(),t.TgZ(101,"mat-form-field",8)(102,"mat-label"),t._uU(103,"UDP First"),t.qZA(),t._UZ(104,"input",35),t.qZA(),t.TgZ(105,"mat-form-field",8)(106,"mat-label"),t._uU(107,"UDP Single"),t.qZA(),t._UZ(108,"input",36),t.qZA(),t.TgZ(109,"mat-form-field",8)(110,"mat-label"),t._uU(111,"ICMP First"),t.qZA(),t._UZ(112,"input",37),t.qZA(),t.TgZ(113,"mat-form-field",8)(114,"mat-label"),t._uU(115,"ICMP Error"),t.qZA(),t._UZ(116,"input",38),t.qZA()()(),t.TgZ(117,"div",39)(118,"button",40)(119,"span"),t._uU(120," Update "),t.qZA(),t.YNc(121,It,1,2,"mat-progress-spinner",41),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.pfForm),t.xp6(6),t.Q6J("ngForOf",n.policy),t.xp6(5),t.Q6J("ngForOf",n.macros),t.xp6(5),t.Q6J("ngForOf",n.optimizationOptions),t.xp6(5),t.Q6J("ngForOf",n.rulesetOptions),t.xp6(29),t.Q6J("ngForOf",n.debugOptions),t.xp6(5),t.Q6J("ngForOf",n.statePolicyOptions),t.xp6(5),t.Q6J("ngForOf",n.requireOrderOptions),t.xp6(5),t.Q6J("ngForOf",n.syncookiesOptions),t.xp6(45),t.Q6J("color","primary")("disabled",n.pfForm.invalid),t.xp6(3),t.Q6J("ngIf",n.isSubmitting))},directives:[d.xY,u.lW,g.Hw,p.O5,h.W,a._Y,a.JL,a.sg,C.KE,C.hX,F.gD,a.JJ,a.u,p.sg,z.ey,a.x0,P.Nt,a.wV,a.Fj,V.oG,w.Ou],styles:[""]}),i})();function Ut(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateOptions()}),t.TgZ(1,"mat-icon",7),t._uU(2,"edit"),t.qZA()()}}function Mt(i,o){if(1&i&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.hij("",e.key,":"),t.xp6(2),t.Oqu(e.value)}}function Nt(i,o){if(1&i&&(t.TgZ(0,"div",19)(1,"span",20),t._uU(2),t.qZA(),t.TgZ(3,"span",21),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.hij("",e.key,":"),t.xp6(2),t.Oqu(e.value)}}function qt(i,o){if(1&i&&(t.TgZ(0,"div",19)(1,"span",20),t._uU(2),t.qZA(),t.TgZ(3,"span",22),t._uU(4),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.hij("",e.key,":"),t.xp6(2),t.Oqu(e.value)}}function kt(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"span",10),t._uU(3,"General:"),t.qZA()(),t.YNc(4,Mt,5,2,"div",11),t.ALo(5,"keyvalue"),t.TgZ(6,"div",12)(7,"span",13),t._uU(8,"Log Interface:"),t.qZA(),t.TgZ(9,"span",14),t._uU(10),t.qZA()(),t.TgZ(11,"div",12)(12,"span",13),t._uU(13,"Skip Interface:"),t.qZA(),t.TgZ(14,"span",14),t._uU(15),t.qZA()(),t.TgZ(16,"div",15)(17,"span",10),t._uU(18,"Limits:"),t.qZA()(),t.TgZ(19,"div",16),t.YNc(20,Nt,5,2,"div",17),t.ALo(21,"keyvalue"),t.qZA(),t.TgZ(22,"div",18)(23,"span",10),t._uU(24,"Timeout:"),t.qZA()(),t.TgZ(25,"div",16),t.YNc(26,qt,5,2,"div",17),t.ALo(27,"keyvalue"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,5,e.options.other_settings)),t.xp6(6),t.Oqu(e.options.loginterface.join(", ")),t.xp6(5),t.Oqu(e.options.skip.join(", ")),t.xp6(5),t.Q6J("ngForOf",t.lcZ(21,7,e.options.limit)),t.xp6(6),t.Q6J("ngForOf",t.lcZ(27,9,e.options.timeout))}}let $=(()=>{class i{constructor(e,n,s){this.dialog=e,this.getNicInfoService=n,this.cdr=s,this.editRow=new t.vpe,this.loading=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.options=[],this.optionViewType="primary"}ngOnInit(){this.getFWOptions()}showTimedAlert(e,n){this.alert.type=e,this.alert.message=n,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}getFWOptions(){this.getNicInfoService.getFWOPtionsData().pipe((0,k.K)(e=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,q.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(e=>{this.showAlert=!1,"success"===e.api_status?(this.options=e.data,console.log(this.options),this.loading=!1,this.showTimedAlert("success","Updated Successfully")):(this.showTimedAlert("error",e.message||"Unknown error"),this.loading=!1)}),this.cdr.detectChanges()}updateOptions(){this.dialog.open(Ot,{width:"750px",disableClose:!0,data:{title:"Update Firewall options",row:this.options}}).afterClosed().subscribe(n=>{console.log("Dialog closed",n),this.onUpdate([])})}onUpdate(e){e.sep="updateFwOption",this.editRow.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.uw),t.Y36(f.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fw-options"]],outputs:{editRow:"editRow"},decls:8,vars:2,consts:[[1,"flex","flex-col","border-none","shadow-none","rounded-none"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","border-b-2","border-primary-200"],[1,"flex","text-xl","font-bold","text-primary","mt-2"],[1,"justify-self-end","mt-2"],["class"," bg-primary text-white rounded-3xl h-6",3,"click",4,"ngIf"],["class","grid sm:grid-cols-1 lg:grid-cols-1 mt-3",4,"ngIf"],[1,"bg-primary","text-white","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Firewall Options",1,"text-white","text-2xl"],[1,"grid","sm:grid-cols-1","lg:grid-cols-1","mt-3"],[1,"my-1"],[1,"text-lg","font-medium"],["class","justify-self-start mx-4 my-1 ml-3",4,"ngFor","ngForOf"],[1,"justify-self-start","mx-4","my-1","ml-3"],[1,"text-base","font-medium"],[1,"ml-3","bg-primary","text-on-primary","px-2","py-1","rounded-xl"],[1,"my-1","border-t-2","border-primary-200"],[1,"grid","sm:grid-cols-1","lg:grid-cols-2"],["class","justify-self-start mx-4 ml-3 mt-1",4,"ngFor","ngForOf"],[1,"my-1","border-t-2","border-primary-200","mt-2"],[1,"justify-self-start","mx-4","ml-3","mt-1"],[1,"font-medium","text-base"],[1,"ml-1","bg-primary","text-md","text-on-primary","px-1","py-1","rounded-xl"],[1,"ml-3","bg-primary","text-md","text-on-primary","px-2","py-1","rounded-xl"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2),t._uU(4,"Firewall Options"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,Ut,3,0,"button",4),t.qZA()(),t.YNc(7,kt,28,11,"div",5),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.options))},directives:[p.O5,g.Hw,p.sg],pipes:[p.Nd],styles:[""]}),i})();var M=l(9824),Ft=l(1218);function Pt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",e.errorAlert.type),t.xp6(1),t.hij(" ",e.errorAlert.message," ")}}function St(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Jt(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Dt(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Qt(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function jt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function Yt(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("appearance","soft")("showIcon",!0)("type",e.info.type),t.xp6(1),t.hij(" ",e.info.message," ")}}function Wt(i,o){1&i&&t._UZ(0,"mat-progress-spinner",20),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}let Rt=(()=>{class i{constructor(e,n,s,r,m){this.dialogRef=e,this.data=n,this.fb=s,this.nicService=r,this.cdr=m,this.isSubmitting=!1,this.alert={type:"error",message:"Error! Duplicate Selection Found"},this.info={type:"info",message:"Each NIC selection must be unique across all fields."},this.errorAlert={type:"error",message:""},this.showAlert=!1,this.nicList=[],this.externalNIC=[],this.internalNIC=[],this.sdWAN=[],this.vpn=[],this.uniqueSelectionsValidator=_=>{var b,x,Z,v;const y=[...(null===(b=_.get("InternalInterface"))||void 0===b?void 0:b.value)||[],...(null===(x=_.get("ExternalInterface"))||void 0===x?void 0:x.value)||[],...(null===(Z=_.get("sdWANInterface"))||void 0===Z?void 0:Z.value)||[],...(null===(v=_.get("vpnInterface"))||void 0===v?void 0:v.value)||[]];return new Set(y).size!==y.length?{nonUniqueSelection:!0}:null},this.nicList=n.nicList,this.externalNIC=n.externalinterfaces,this.internalNIC=n.internalinterfaces,this.sdWAN=n.sdWaninterfaces,this.vpn=n.vpninterfaces}ngOnInit(){this.updateMacroForm=this.fb.group({InternalInterface:[this.internalNIC],ExternalInterface:[this.externalNIC],sdWANInterface:[this.sdWAN],vpnInterface:[this.vpn]},{validators:this.uniqueSelectionsValidator}),this.updateMacroForm.valueChanges.subscribe(()=>{this.updateMacroForm.updateValueAndValidity()})}closeDialog(){this.dialogRef.close("Dialog Closed")}onSubmit(){if(this.updateMacroForm.valid){this.showAlert=!1,this.isSubmitting=!0;const e=Object.assign(Object.assign({},this.updateMacroForm.value),{api_key:this.nicService.apiKey});console.log(e),this.nicService.updateMacros(e).subscribe(n=>{console.log("Macros Update:",n),this.errorAlert={type:"success"===n.status?"success":"error",message:n.message},this.showAlert=!0,this.isSubmitting=!1,this.closeDialog()},n=>{console.error("Failed to add Sub-NIC info:",n),this.errorAlert={type:"error",message:"Failed to update Macros. Please try again."},this.showAlert=!0,this.isSubmitting=!1}),this.cdr.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.so),t.Y36(d.WI),t.Y36(a.qu),t.Y36(f.N),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-update-macros"]],decls:38,vars:12,consts:[[1,"dialog-content"],[1,"dialog-header","bg-primary","rounded-t-2xl","p-2","px-4","flex","justify-between","items-center"],[1,"text-xl","font-semibold","leading-none","tracking-tight","text-white"],["mat-icon-button","",3,"click"],[1,"text-white"],["class","mt-2",3,"appearance","showIcon","type",4,"ngIf"],[1,"rounded-lg",3,"formGroup","ngSubmit"],[1,"dialog-body","mt-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["appearance","fill",1,"w-full"],["formControlName","InternalInterface","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","ExternalInterface","multiple",""],["formControlName","sdWANInterface","multiple",""],["formControlName","vpnInterface","multiple",""],["align","end",1,"mt-2"],["type","submit","mat-flat-button","",1,"fuse-mat-button-medium","w-28",3,"color","disabled"],["class","ml-3",3,"diameter","mode",4,"ngIf"],[1,"mt-2",3,"appearance","showIcon","type"],[3,"value"],[1,"ml-3",3,"diameter","mode"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.YNc(7,Pt,2,4,"fuse-alert",5),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Internal NIC"),t.qZA(),t.TgZ(14,"mat-select",10),t.YNc(15,St,2,2,"mat-option",11),t.qZA()(),t.TgZ(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"External NIC"),t.qZA(),t.TgZ(19,"mat-select",12),t.YNc(20,Jt,2,2,"mat-option",11),t.qZA()(),t.TgZ(21,"mat-form-field",9)(22,"mat-label"),t._uU(23,"sdWAN NIC"),t.qZA(),t.TgZ(24,"mat-select",13),t.YNc(25,Dt,2,2,"mat-option",11),t.qZA()(),t.TgZ(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"VPN NIC"),t.qZA(),t.TgZ(29,"mat-select",14),t.YNc(30,Qt,2,2,"mat-option",11),t.qZA()()()(),t.YNc(31,jt,2,4,"fuse-alert",5),t.YNc(32,Yt,2,4,"fuse-alert",5),t.TgZ(33,"div",15)(34,"button",16)(35,"span"),t._uU(36," Update "),t.qZA(),t.YNc(37,Wt,1,2,"mat-progress-spinner",17),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" ",n.data.title," "),t.xp6(4),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.updateMacroForm),t.xp6(7),t.Q6J("ngForOf",n.nicList),t.xp6(5),t.Q6J("ngForOf",n.nicList),t.xp6(5),t.Q6J("ngForOf",n.nicList),t.xp6(5),t.Q6J("ngForOf",n.nicList),t.xp6(1),t.Q6J("ngIf",n.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(1),t.Q6J("ngIf",!n.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(2),t.Q6J("color","primary")("disabled",n.updateMacroForm.invalid||n.updateMacroForm.hasError("nonUniqueSelection")),t.xp6(3),t.Q6J("ngIf",n.isSubmitting))},directives:[d.xY,u.lW,g.Hw,p.O5,h.W,a._Y,a.JL,a.sg,C.KE,C.hX,F.gD,a.JJ,a.u,p.sg,z.ey,w.Ou],styles:[".dialog-content[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column}.dialog-content[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd}.dialog-content[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.dialog-content[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;flex-shrink:0;background:white;position:sticky;bottom:0}mat-dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;overflow:hidden}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-shrink:0}"]}),i})();var Et=l(9602);function Gt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateMacros()}),t.TgZ(1,"mat-icon",12),t._uU(2,"edit"),t.qZA()()}}function Lt(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("Int",e.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",e.split(",")[1].trim(),"")}}function zt(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"Internal"),t.qZA(),t._uU(4,". "),t.qZA())}function Vt(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("Ext",e.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",e.split(",")[1].trim(),"")}}function $t(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"External"),t.qZA(),t._uU(4,". "),t.qZA())}function Ht(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("sdwan",e.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",e.split(",")[1].trim(),"")}}function Bt(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"sdWAN"),t.qZA(),t._uU(4,". "),t.qZA())}function Xt(i,o){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"mat-icon",14),t.TgZ(2,"div",15)(3,"b",16),t._uU(4),t.qZA(),t._uU(5),t.qZA()()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:globe-alt"),t.xp6(3),t.hij("VPN",e.split(",")[0].trim(),":"),t.xp6(1),t.hij(" ",e.split(",")[1].trim(),"")}}function Kt(i,o){1&i&&(t.TgZ(0,"div",17),t._uU(1," No Interface Defined as "),t.TgZ(2,"b"),t._uU(3,"VPN"),t.qZA(),t._uU(4,". "),t.qZA())}let te=(()=>{class i{constructor(e){this.dialog=e,this.externalinterfaces=[],this.internalinterfaces=[],this.sdWaninterfaces=[],this.vpninterfaces=[],this.nicList=[],this.editRow=new t.vpe,this.loading=!1}ngOnInit(){}updateMacros(){this.dialog.open(Rt,{width:"700px",height:"auto",data:{title:"Update Macros",externalinterfaces:this.externalinterfaces.map(n=>n.split(",")[1]),internalinterfaces:this.internalinterfaces.map(n=>n.split(",")[1]),sdWaninterfaces:this.sdWaninterfaces.map(n=>n.split(",")[1]),vpninterfaces:this.vpninterfaces.map(n=>n.split(",")[1]),nicList:this.nicList}}).afterClosed().subscribe(n=>{console.log("Dialog closed",n),this.onUpdate([])})}onUpdate(e){e.sep="updateMacros",this.editRow.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-macros-management-component"]],inputs:{externalinterfaces:"externalinterfaces",internalinterfaces:"internalinterfaces",sdWaninterfaces:"sdWaninterfaces",vpninterfaces:"vpninterfaces",nicList:"nicList"},outputs:{editRow:"editRow"},decls:38,vars:9,consts:[[1,"flex","flex-col","border-none","shadow-none","rounded-none"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2"],[1,"flex","text-xl","font-bold","text-primary"],[1,"justify-self-end","mt-2"],["class"," bg-primary text-white rounded-3xl h-6",3,"click",4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"font-medium","text-secondary"],[1,"flex-auto","ml-2","border-b-2"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-y-4","ml-5","my-2"],["class","flex items-center",4,"ngFor","ngForOf"],["class","col-span-3",4,"ngIf"],[1,"bg-primary","text-white","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Macros",1,"text-white","text-2xl"],[1,"flex","items-center"],[1,"icon-size-5","text-orange-600",3,"svgIcon"],[1,"ml-2","inline-block"],[1,"text-primary"],[1,"col-span-3"]],template:function(e,n){1&e&&(t.TgZ(0,"fuse-card",0)(1,"div")(2,"div",1)(3,"div",2),t._uU(4,"Macros Management"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,Gt,3,0,"button",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9,"Internal"),t.qZA(),t._UZ(10,"div",7),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,Lt,6,3,"div",9),t.YNc(13,zt,5,0,"div",10),t.qZA()(),t.TgZ(14,"div")(15,"div",5)(16,"div",6),t._uU(17,"External"),t.qZA(),t._UZ(18,"div",7),t.qZA(),t.TgZ(19,"div",8),t.YNc(20,Vt,6,3,"div",9),t.YNc(21,$t,5,0,"div",10),t.qZA()(),t.TgZ(22,"div")(23,"div",5)(24,"div",6),t._uU(25,"sdWAN"),t.qZA(),t._UZ(26,"div",7),t.qZA(),t.TgZ(27,"div",8),t.YNc(28,Ht,6,3,"div",9),t.YNc(29,Bt,5,0,"div",10),t.qZA()(),t.TgZ(30,"div")(31,"div",5)(32,"div",6),t._uU(33,"VPN"),t.qZA(),t._UZ(34,"div",7),t.qZA(),t.TgZ(35,"div",8),t.YNc(36,Xt,6,3,"div",9),t.YNc(37,Kt,5,0,"div",10),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngIf",!n.loading),t.xp6(6),t.Q6J("ngForOf",n.internalinterfaces),t.xp6(1),t.Q6J("ngIf",0==n.internalinterfaces.length),t.xp6(7),t.Q6J("ngForOf",n.externalinterfaces),t.xp6(1),t.Q6J("ngIf",0==n.externalinterfaces.length),t.xp6(7),t.Q6J("ngForOf",n.sdWaninterfaces),t.xp6(1),t.Q6J("ngIf",0==n.sdWaninterfaces.length),t.xp6(7),t.Q6J("ngForOf",n.vpninterfaces),t.xp6(1),t.Q6J("ngIf",0==n.vpninterfaces.length))},directives:[Et.y,p.O5,g.Hw,M.gM,p.sg],styles:[""]}),i})();function ee(i,o){if(1&i&&(t.TgZ(0,"fuse-alert",45),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!0)("type",e.alert.type),t.xp6(1),t.hij(" ",e.alert.message," ")}}function ne(i,o){if(1&i&&(t.TgZ(0,"div",43),t.YNc(1,ee,2,4,"fuse-alert",44),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.showAlert)}}function ie(i,o){1&i&&(t.TgZ(0,"div",46),t._UZ(1,"mat-progress-bar",47),t.qZA())}function oe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().refreshTable()}),t.TgZ(1,"mat-icon",49),t._uU(2,"refresh"),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("disabled",e.loading)}}function ae(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateGW()}),t.TgZ(1,"mat-icon",51),t._uU(2,"edit"),t.qZA()()}}let se=(()=>{class i{constructor(e,n,s){this.getNicInfoService=e,this.dialog=n,this.cdr=s,this.alert={type:"success",message:""},this.showAlert=!1,this.userData=[],this.loading=!0,this.headerMapping={nic_name:"Network Interface",nic_type:"Type",ip_address:"IP Address",subnet_mask:"Subnet Mask",mac_address:"MAC Address",link_state:"Link State",nic_action:"Action",category:"Category"},this.displayedColumns=["category","nic_name","nic_type","ip_address","subnet_mask","mac_address","link_state","nic_action"],this.defaultGateway="Gateway",this.nicCount=0,this.subInterfaceCount=0,this.totalExternal=0,this.totalInternal=0,this.totalVlanCount=0,this.interfaces=[],this.externalinterfaces=[],this.internalinterfaces=[],this.sdWaninterfaces=[],this.vpninterfaces=[],this.allIpAddresses=[],this.selectedRow=null,this.nicList=[]}ngOnInit(){this.getNicData()}getNicData(){this.getNicInfoService.getNicData().pipe((0,k.K)(e=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,q.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(e=>{this.showAlert=!1,"success"===e.api_status?(this.defaultGateway=e.default_gateway,this.nicCount=e.nic_count,this.subInterfaceCount=e.sub_interface_count,this.totalExternal=e.total_external,this.totalInternal=e.total_internal,this.totalVlanCount=e.total_vlan_count,this.interfaces=e.interfaces,this.allIpAddresses=this.interfaces.map(n=>n.ip_address).filter(n=>"N/A"!==n),this.nicList=this.interfaces.filter(n=>"sub_nic"!==n.category).map(n=>n.nic_name),this.externalinterfaces=e.external_interfaces,this.internalinterfaces=e.internal_interfaces,this.sdWaninterfaces=e.sdwan_interfaces,this.vpninterfaces=e.vpn_interfaces,this.loading=!1,this.showTimedAlert("success","Updated Successfully")):(this.showTimedAlert("error",e.message||"Unknown error"),this.loading=!1)}),this.cdr.detectChanges()}showTimedAlert(e,n){this.alert.type=e,this.alert.message=n,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}refreshTable(){this.loading=!0,this.getNicData(),this.fwOptionsComponent&&this.fwOptionsComponent.ngOnInit()}onEditRow(e){"edit"===e.sep?(this.selectedRow=Object.assign({},e),this.dialog.open(it,{width:"700px",disableClose:!0,data:{title:"Update Network Interface",row:this.selectedRow,old_ip:this.allIpAddresses}}).afterClosed().subscribe(s=>{this.refreshTable(),this.showTimedAlert("success","NIC Information Updated Successfully")})):"delete"===e.sep?(e=Object.assign({},e),this.dialog.open(st,{width:"700px",disableClose:!0,data:{title:"Delete Sub-Interface",row:e,message:"Are you sure you want to delete sub-interface?",action:"delete-sub-nic"}}).afterClosed().subscribe(s=>{this.refreshTable(),this.showTimedAlert("success","Sub-NIC removed successfully")})):"add-sub-nic"===e.sep?(e=Object.assign({},e),this.dialog.open(_t,{width:"700px",disableClose:!0,data:{title:"Add Sub-Interface",row:e,message:"",action:"",old_ip:this.allIpAddresses}}).afterClosed().subscribe(s=>{this.refreshTable(),this.showTimedAlert("success","Sub-NIC Added Successfully"),this.cdr.detectChanges()})):"add-vlan"===e.sep?(e=Object.assign({},e),this.dialog.open(ht,{width:"700px",data:{title:"Add vLAN",row:e,message:"",action:"",old_ip:this.allIpAddresses}}).afterClosed().subscribe(s=>{console.log("Dialog closed",s),this.refreshTable()})):("updateMacros"===e.sep||"updateFwOption"===e.sep)&&this.refreshTable()}updateGW(){this.dialog.open(pt,{width:"700px",disableClose:!0,data:{title:"Update Default Gateway",gateway:this.defaultGateway,old_ip:this.allIpAddresses}}).afterClosed().subscribe(n=>{this.refreshTable(),this.showTimedAlert("success","Default Gateway updated Successfully")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.N),t.Y36(d.uw),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-network-inteface"]],viewQuery:function(e,n){if(1&e&&t.Gf($,5),2&e){let s;t.iGM(s=t.CRH())&&(n.fwOptionsComponent=s.first)}},decls:74,vars:20,consts:[[1,"flex","flex-auto","p-3","sm:p-5"],[1,"flex","flex-col","flex-auto","w-full"],["class","mb-8",4,"ngIf"],["class","flex justify-center items-center my-4",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","lg:grid-cols-2","rounded-xl","bg-primary-500"],[1,"justify-self-start","flex","items-center"],[1,"text-xl","font-bold","leading-none","tracking-tight","text-white","pl-5"],[1,"justify-self-end","m-2","mr-4"],["class","px-2 pt-1 bg-white text-white rounded-md",3,"disabled","click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-11","gap-4","mb-4"],[1,"col-span-9","grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-7","gap-4"],[1,"bg-card","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","p-3","shadow"],[1,"flex","flex-col","items-center"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-blue-500","sm:text-4xl"],[1,"text-lg","text-blue-600","dark:text-blue-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-orange-500","sm:text-4xl"],[1,"text-lg","text-orange-600","dark:text-orange-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-purple-500","sm:text-4xl"],[1,"text-lg","text-purple-600","dark:text-purple-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-red-500","sm:text-4xl"],[1,"text-lg","text-red-600","dark:text-red-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-green-500","sm:text-4xl"],[1,"text-lg","text-green-600","dark:text-green-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-yellow-500","sm:text-4xl"],[1,"text-lg","text-yellow-600","dark:text-yellow-500"],[1,"text-2xl","font-medium","leading-none","tracking-tight","text-pink-500","sm:text-4xl"],[1,"text-lg","text-pink-600","dark:text-pink-500"],[1,"col-span-2","grid","grid-cols-2","bg-card","rounded-2xl","shadow","w-full"],[1,"bg-primary","rounded-l-2xl","flex","items-center","justify-center","text-on-primary","text-lg","font-bold","p-2"],[1,"bg-card","rounded-r-2xl","flex","items-center","justify-center","text-xl","relative","p-3"],[1,"text-normal"],["class","absolute top-1 right-2 flex bg-primary text-on-primary rounded-3xl h-6",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-4","gap-4"],[1,"col-span-3"],[1,"flex","flex-col","px-5","pt-4","pb-2","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","text-xl","font-bold","justify-start","mx-3","border-b-2","border-primary-200","text-primary"],[3,"data","displayedColumns","headerMapping","editRow"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","gap-4"],[1,"col-span-1","flex","flex-col","px-5","pt-4","pb-5","shadow","rounded-2xl","overflow-hidden","bg-card"],[3,"externalinterfaces","internalinterfaces","sdWaninterfaces","vpninterfaces","nicList","editRow"],[1,"col-span-1","flex","flex-col","px-5","pt-4","pb-5","mt-3","shadow","rounded-2xl","overflow-hidden","bg-card"],[3,"editRow"],[1,"mb-8"],["class","mt-0 -mb-2",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-0","-mb-2",3,"appearance","showIcon","type"],[1,"flex","justify-center","items-center","my-4"],["mode","indeterminate",1,"w-full"],[1,"px-2","pt-1","bg-white","text-white","rounded-md",3,"disabled","click"],[1,"text-primary"],[1,"absolute","top-1","right-2","flex","bg-primary","text-on-primary","rounded-3xl","h-6",3,"click"],["matTooltip","Edit Gateway",1,"text-white","text-2xl"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ne,2,1,"div",2),t.YNc(3,ie,2,0,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._uU(8," Network Interface "),t.qZA()(),t.TgZ(9,"div",8),t.YNc(10,oe,3,1,"button",9),t.qZA()()(),t.TgZ(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),t._uU(16),t.qZA(),t.TgZ(17,"div",15),t._uU(18," Interfaces "),t.qZA()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"div",16),t._uU(22),t.qZA(),t.TgZ(23,"div",17),t._uU(24," Sub NIC "),t.qZA()()(),t.TgZ(25,"div",12)(26,"div",13)(27,"div",18),t._uU(28),t.qZA(),t.TgZ(29,"div",19),t._uU(30," vLANs "),t.qZA()()(),t.TgZ(31,"div",12)(32,"div",13)(33,"div",20),t._uU(34),t.qZA(),t.TgZ(35,"div",21),t._uU(36," External "),t.qZA()()(),t.TgZ(37,"div",12)(38,"div",13)(39,"div",22),t._uU(40),t.qZA(),t.TgZ(41,"div",23),t._uU(42," Internal "),t.qZA()()(),t.TgZ(43,"div",12)(44,"div",13)(45,"div",24),t._uU(46),t.qZA(),t.TgZ(47,"div",25),t._uU(48," sdWAN "),t.qZA()()(),t.TgZ(49,"div",12)(50,"div",13)(51,"div",26),t._uU(52),t.qZA(),t.TgZ(53,"div",27),t._uU(54," VPN "),t.qZA()()()(),t.TgZ(55,"div",28)(56,"div",29),t._uU(57," Default Gateway "),t.qZA(),t.TgZ(58,"div",30)(59,"span",31),t._uU(60),t.qZA(),t.YNc(61,ae,3,0,"button",32),t.qZA()()(),t.TgZ(62,"div",33)(63,"div",34)(64,"div",35)(65,"div",36),t._uU(66,"NIC Management"),t.qZA(),t.TgZ(67,"app-dynamic-table",37),t.NdJ("editRow",function(r){return n.onEditRow(r)}),t.qZA()()(),t.TgZ(68,"div",38)(69,"div")(70,"div",39)(71,"app-macros-management-component",40),t.NdJ("editRow",function(r){return n.onEditRow(r)}),t.qZA()(),t.TgZ(72,"div",41)(73,"app-fw-options",42),t.NdJ("editRow",function(r){return n.onEditRow(r)}),t.qZA()()()()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(7),t.Q6J("ngIf",!n.loading),t.xp6(6),t.hij(" ",n.nicCount," "),t.xp6(6),t.hij(" ",n.subInterfaceCount," "),t.xp6(6),t.hij(" ",n.totalVlanCount," "),t.xp6(6),t.hij(" ",n.totalExternal," "),t.xp6(6),t.hij(" ",n.totalInternal," "),t.xp6(6),t.hij(" ",n.sdWaninterfaces.length," "),t.xp6(6),t.hij(" ",n.vpninterfaces.length," "),t.xp6(8),t.Oqu(n.defaultGateway),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(6),t.Q6J("data",n.interfaces)("displayedColumns",n.displayedColumns)("headerMapping",n.headerMapping),t.xp6(4),t.Q6J("externalinterfaces",n.externalinterfaces)("internalinterfaces",n.internalinterfaces)("sdWaninterfaces",n.sdWaninterfaces)("vpninterfaces",n.vpninterfaces)("nicList",n.nicList))},directives:[p.O5,h.W,U.pW,g.Hw,M.gM,Ft.Q,te,$],styles:[""]}),i})();var re=l(2543),le=l(4538),S=l(5804),de=l(797),H=l(7775),ce=l(1149),pe=l(8908);let me=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,ce.p0,g.Ps,M.AV,u.ot,pe.TU,S.J]]}),i})();var ge=l(2930);let ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,a.UX,F.LD,P.c,V.p9,u.ot,ge.QW,g.Ps,C.lN,S.J,H.fC]]}),i})();const fe=[{path:"",component:se}];let _e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[B.JF,u.ot,re.t,C.lN,g.Ps,P.c,le.Tx,M.AV,S.J,de.c,p.ez,H.fC,U.Cv,me,ue,X.Bz.forChild(fe)]]}),i})()}}]);