"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[223],{8125:(y,u,a)=>{a.d(u,{N:()=>U});var i=a(520);const e_apiUrl="http://192.168.3.13:8080/api/";var g=a(5e3);let U=(()=>{class h{constructor(t){this.http=t,this.apiUrl=e_apiUrl+"/getNicInfo.php",this.updateApiUrl=e_apiUrl+"/updateNicInfo.php",this.updateGWApiUrl=e_apiUrl+"/updateDefaultGw.php",this.deleteSubNicApiUrl=e_apiUrl+"/deleteSubNic.php",this.addSubNicApiUrl=e_apiUrl+"/addSubNic.php",this.updateMacroApiUrl=e_apiUrl+"/updateMacros.php",this.updateFWOptionsApiUrl=e_apiUrl+"/updateFWOptions.php",this.getMacrosapiUrl=e_apiUrl+"/getMacros.php",this.apigetFWOptions=e_apiUrl+"/getFirewallOptions.php",this.getRoutingtableapiUrl=e_apiUrl+"/getRoutingTable.php",this.getQueueDefApiUrl=e_apiUrl+"masterApi.py/getQueueDefination",this.getMalwareListApiUrl=e_apiUrl+"maliciousIP.py/listMaliciousIP",this.updatetMalwareListApiUrl=e_apiUrl+"masterApi.py/updateMalwareFile",this.updateMalwareStatusApiUrl=e_apiUrl+"masterApi.py/UpdateMalwareIPStatus",this.getLogsApiUrl=e_apiUrl+"masterApi.py/logs",this.getDateTimeApiUrl=e_apiUrl+"dateTime.py",this.getUsageStatsApiUrl=e_apiUrl+"systemspec.py",this.getSystemInfoApiUrl=e_apiUrl+"sysinfo.py",this.getModSecApiUrl=e_apiUrl+"modSec.py/listDomain",this.deleteModSecApiUrl=e_apiUrl+"modSec.py/deleteDomain",this.getIPConfigApiUrl=e_apiUrl+"modSec.py/listip",this.addEmailGwApiUrl=e_apiUrl+"mailServer.py/addMailServer",this.getEmailGwApiUrl=e_apiUrl+"mailServer.py/viewMailServers",this.deleteEmailGwApiUrl=e_apiUrl+"mailServer.py/deleteMailServer",this.addMaliciousIPApiUrl=e_apiUrl+"/maliciousIP.py/addMaliciousIP",this.addCountryBlockApiUrl=e_apiUrl+"/countryBlock.py/add",this.addModSecApiUrl=e_apiUrl+"modSec.py/createDomain",this.deleteMaliciousIPApiUrl=e_apiUrl+"maliciousIP.py/deleteMaliciousIP",this.deleteCountryApiUrl=e_apiUrl+"countryBlock.py/delete",this.countryViewUrl=e_apiUrl+"countryBlock.py/view",this.countryAddUrl=e_apiUrl+"countryBlock.py/add",this.countryDeleteUrl=e_apiUrl+"countryBlock.py/delete",this.apiKey="1234567890abcdef"}deleteMaliciousIP(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=new i.LE({fromObject:t});return this.http.post(this.deleteMaliciousIPApiUrl,n.toString(),{headers:s})}unBlockCountry(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=new i.LE({fromObject:t});return this.http.post(this.deleteCountryApiUrl,n.toString(),{headers:s})}UpdateMalwareData(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.updatetMalwareListApiUrl,{headers:t})}updateMalwareIPStatus(t,s){const n=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"}),d=new URLSearchParams;return d.set("ip",t),d.set("status",s),this.http.post(this.updateMalwareStatusApiUrl,d.toString(),{headers:n})}getlogs(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getLogsApiUrl,{headers:t})}getMalwareListData(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getMalwareListApiUrl,{headers:t})}getNicData(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.apiUrl,{headers:t})}getFWOPtionsData(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.apigetFWOptions,{headers:t})}updateNicInfo(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateApiUrl,t,{headers:s})}updateDefualtGW(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateGWApiUrl,t,{headers:s})}deleteSubNic(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.deleteSubNicApiUrl,t,{headers:s})}addSubNic(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.addSubNicApiUrl,t,{headers:s})}updateMacros(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateMacroApiUrl,t,{headers:s})}updateFWOptions(t){const s=new i.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateFWOptionsApiUrl,t,{headers:s})}getRoutingData(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getRoutingtableapiUrl,{headers:t})}getMacrosList(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getMacrosapiUrl,{headers:t})}getQueueDefList(){const t=new i.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getQueueDefApiUrl,{headers:t})}getDateTimeAPI(){return this.http.get(this.getDateTimeApiUrl)}getUsageStatsAPI(){return this.http.get(this.getUsageStatsApiUrl)}getSystemInfoAPI(){return this.http.get(this.getSystemInfoApiUrl)}getModSecListAPI(){return this.http.get(this.getModSecApiUrl)}deleteModSecApi(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=new i.LE({fromObject:t});return this.http.post(this.deleteModSecApiUrl,n.toString(),{headers:s})}addEmailGw(t){return this.http.post(this.addEmailGwApiUrl,t)}addMaliciousIP(t){return this.http.post(this.addMaliciousIPApiUrl,t)}addCountryBlock(t){return this.http.post(this.addCountryBlockApiUrl,t)}getEmailGwListAPI(){return this.http.get(this.getEmailGwApiUrl)}deleteEmailGwApi(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=new i.LE({fromObject:t});return this.http.post(this.deleteEmailGwApiUrl,n.toString(),{headers:s})}getIPConfigListAPI(){return this.http.get(this.getIPConfigApiUrl)}addModSecAPI(t){return this.http.post(this.addModSecApiUrl,t)}viewBlockedCountries(){return this.http.get(this.countryViewUrl)}addBlockedCountry(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=(new i.LE).set("countries",t);return this.http.post(this.countryAddUrl,n.toString(),{headers:s})}deleteBlockedCountry(t){const s=new i.WM({"Content-Type":"application/x-www-form-urlencoded"}),n=(new i.LE).set("countries",t);return this.http.post(this.countryDeleteUrl,n.toString(),{headers:s})}}return h.\u0275fac=function(t){return new(t||h)(g.LFG(i.eN))},h.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2223:(y,u,a)=>{a.r(u),a.d(u,{AllLogsModule:()=>L});var i=a(325),e=a(1377),g=a(1279),U=a(4466),h=a(8558),A=a(7775),t=a(1101),s=a(2916),n=a(353),d=a(4241);function w(o){const{subscriber:l,counter:r,period:c}=o;l.next(r),this.schedule({subscriber:l,counter:r+1,period:c},c)}var f=a(1086),M=a(7221),p=a(5e3),S=a(8125),v=a(9808);function I(o,l){if(1&o&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&o){const r=l.$implicit;p.xp6(1),p.Oqu(r)}}const P=[{path:"",component:(()=>{class o{constructor(r){this.apiService=r,this.logs=[],this.alert={type:"success",message:""},this.showAlert=!1,this.loading=!1}ngOnInit(){this.fetchLogs(),this.subscription=function m(o=0,l=n.P){return(!(0,d.k)(o)||o<0)&&(o=0),(!l||"function"!=typeof l.schedule)&&(l=n.P),new s.y(r=>(r.add(l.schedule(w,o,{subscriber:r,counter:0,period:o})),r))}(3e3).subscribe(()=>this.fetchLogs())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}showTimedAlert(r,c){this.alert.type=r,this.alert.message=c,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}fetchLogs(){this.apiService.getlogs().pipe((0,M.K)(r=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,f.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(r=>{this.showAlert=!1,"success"===r.api_status?(this.loading=!1,this.logs=r.logs||[],this.showTimedAlert("success","Logs Retrive Successfully")):(this.showTimedAlert("error",r.message||"Unknown error"),this.loading=!1)})}}return o.\u0275fac=function(r){return new(r||o)(p.Y36(S.N))},o.\u0275cmp=p.Xpm({type:o,selectors:[["app-all-logs"]],decls:4,vars:1,consts:[[1,"bg-gray-900","text-green-400","p-4","rounded-lg","h-96","overflow-y-auto","font-mono","text-sm"],[4,"ngFor","ngForOf"]],template:function(r,c){1&r&&(p.TgZ(0,"div"),p._uU(1," Auth Logs Live\n"),p.qZA(),p.TgZ(2,"div",0),p.YNc(3,I,2,1,"div",1),p.qZA()),2&r&&(p.xp6(3),p.Q6J("ngForOf",c.logs))},directives:[v.sg],styles:[""]}),o})()}];let L=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({imports:[[i.Bz.forChild(P),e.ot,g.Ps,h.rP,A.fC,t.Cv,U.m]]}),o})()}}]);