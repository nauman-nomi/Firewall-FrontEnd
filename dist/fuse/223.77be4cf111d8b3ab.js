"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[223],{8125:(f,u,a)=>{a.d(u,{N:()=>A});var r=a(520);const s_apiUrl="http://raonazariqbal.nayatel.net:8080/api/";var g=a(5e3);let A=(()=>{class l{constructor(t){this.http=t,this.apiUrl=s_apiUrl+"/getNicInfo.php",this.updateApiUrl=s_apiUrl+"/updateNicInfo.php",this.updateGWApiUrl=s_apiUrl+"/updateDefaultGw.php",this.deleteSubNicApiUrl=s_apiUrl+"/deleteSubNic.php",this.addSubNicApiUrl=s_apiUrl+"/addSubNic.php",this.updateMacroApiUrl=s_apiUrl+"/updateMacros.php",this.updateFWOptionsApiUrl=s_apiUrl+"/updateFWOptions.php",this.getMacrosapiUrl=s_apiUrl+"/getMacros.php",this.apigetFWOptions=s_apiUrl+"/getFirewallOptions.php",this.getRoutingtableapiUrl=s_apiUrl+"/getRoutingTable.php",this.getQueueDefApiUrl=s_apiUrl+"/masterApi.py/getQueueDefination",this.getMalwareListApiUrl=s_apiUrl+"/masterApi.py/maliciousFiles",this.updatetMalwareListApiUrl=s_apiUrl+"/masterApi.py/updateMalwareFile",this.updateMalwareStatusApiUrl=s_apiUrl+"/masterApi.py/UpdateMalwareIPStatus",this.getLogsApiUrl=s_apiUrl+"/masterApi.py/logs",this.getDateTimeApiUrl=s_apiUrl+"dateTime.py",this.getUsageStatsApiUrl=s_apiUrl+"systemspec.py",this.getSystemInfoApiUrl=s_apiUrl+"sysinfo.py",this.getModSecApiUrl=s_apiUrl+"modSec.py/listDomain",this.deleteModSecApiUrl=s_apiUrl+"modSec.py/deleteDomain",this.apiKey="1234567890abcdef"}UpdateMalwareData(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.updatetMalwareListApiUrl,{headers:t})}updateMalwareIPStatus(t,o){const d=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"}),c=new URLSearchParams;return c.set("ip",t),c.set("status",o),this.http.post(this.updateMalwareStatusApiUrl,c.toString(),{headers:d})}getlogs(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getLogsApiUrl,{headers:t})}getMalwareListData(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getMalwareListApiUrl,{headers:t})}getNicData(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.apiUrl,{headers:t})}getFWOPtionsData(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.apigetFWOptions,{headers:t})}updateNicInfo(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateApiUrl,t,{headers:o})}updateDefualtGW(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateGWApiUrl,t,{headers:o})}deleteSubNic(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.deleteSubNicApiUrl,t,{headers:o})}addSubNic(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.addSubNicApiUrl,t,{headers:o})}updateMacros(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateMacroApiUrl,t,{headers:o})}updateFWOptions(t){const o=new r.WM({"X-API-KEY":this.apiKey,"Content-Type":"application/json"});return this.http.post(this.updateFWOptionsApiUrl,t,{headers:o})}getRoutingData(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getRoutingtableapiUrl,{headers:t})}getMacrosList(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getMacrosapiUrl,{headers:t})}getQueueDefList(){const t=new r.WM({"X-API-KEY":this.apiKey});return this.http.get(this.getQueueDefApiUrl,{headers:t})}getDateTimeAPI(){return this.http.get(this.getDateTimeApiUrl)}getUsageStatsAPI(){return this.http.get(this.getUsageStatsApiUrl)}getSystemInfoAPI(){return this.http.get(this.getSystemInfoApiUrl)}getModSecListAPI(){return this.http.get(this.getModSecApiUrl)}deleteModSecApi(t){return this.http.post(this.deleteModSecApiUrl,t)}}return l.\u0275fac=function(t){return new(t||l)(g.LFG(r.eN))},l.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},2223:(f,u,a)=>{a.r(u),a.d(u,{AllLogsModule:()=>L});var r=a(325),s=a(1377),g=a(1279),A=a(4466),l=a(8558),U=a(7775),t=a(1101),o=a(2916),d=a(353),c=a(4241);function m(i){const{subscriber:n,counter:e,period:h}=i;n.next(e),this.schedule({subscriber:n,counter:e+1,period:h},h)}var M=a(1086),v=a(7221),p=a(5e3),S=a(8125),K=a(9808);function w(i,n){if(1&i&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&i){const e=n.$implicit;p.xp6(1),p.Oqu(e)}}const I=[{path:"",component:(()=>{class i{constructor(e){this.apiService=e,this.logs=[],this.alert={type:"success",message:""},this.showAlert=!1,this.loading=!1}ngOnInit(){this.fetchLogs(),this.subscription=function y(i=0,n=d.P){return(!(0,c.k)(i)||i<0)&&(i=0),(!n||"function"!=typeof n.schedule)&&(n=d.P),new o.y(e=>(e.add(n.schedule(m,i,{subscriber:e,counter:0,period:i})),e))}(3e3).subscribe(()=>this.fetchLogs())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}showTimedAlert(e,h){this.alert.type=e,this.alert.message=h,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},2e3)}fetchLogs(){this.apiService.getlogs().pipe((0,v.K)(e=>(this.showTimedAlert("error","Error Fetching Data"),this.loading=!1,(0,M.of)({api_status:"error",message:"Failed to fetch data"})))).subscribe(e=>{this.showAlert=!1,"success"===e.api_status?(this.loading=!1,this.logs=e.logs||[],this.showTimedAlert("success","Logs Retrive Successfully")):(this.showTimedAlert("error",e.message||"Unknown error"),this.loading=!1)})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(S.N))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-all-logs"]],decls:4,vars:1,consts:[[1,"bg-gray-900","text-green-400","p-4","rounded-lg","h-96","overflow-y-auto","font-mono","text-sm"],[4,"ngFor","ngForOf"]],template:function(e,h){1&e&&(p.TgZ(0,"div"),p._uU(1," Auth Logs Live\n"),p.qZA(),p.TgZ(2,"div",0),p.YNc(3,w,2,1,"div",1),p.qZA()),2&e&&(p.xp6(3),p.Q6J("ngForOf",h.logs))},directives:[K.sg],styles:[""]}),i})()}];let L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[r.Bz.forChild(I),s.ot,g.Ps,l.rP,U.fC,t.Cv,A.m]]}),i})()}}]);